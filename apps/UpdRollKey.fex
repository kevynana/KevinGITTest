-GOTO AIR

-HIERARCHY

TABLE FILE HPKIEW
PRINT *
BY ROLL_KEY
END
-EXIT

-* AIR UPDATE

-AIR

TABLE FILE AHKIEW
PRINT AIR_KEY AND ROLL_KEY AND ROLL_LEV
IF ROLL_KEY EQ 'NEW'
ON TABLE HOLD
END


MODIFY FILE A_KIEW
FIXFORM AIR_KEY/A45 LEVEL1/A15
MATCH AIR_KEY
ON MATCH COMPUTE LEVEL1='DEFB';
ON MATCH UPDATE LEVEL1
ON NOMATCH REJECT
DATA ON HOLD
END

MODIFY FILE AHKIEW
FIXFORM AIR_KEY/A45 ROLL_KEY/A50 ROLL_LEV/A15
MATCH AIR_KEY
ON MATCH COMPUTE ROLL_KEY='AAAABD00000000000000000000000000000000000000000000';
ON MATCH COMPUTE ROLL_LEV='DEFB';
ON MATCH UPDATE ROLL_KEY
ON MATCH UPDATE ROLL_LEV
ON NOMATCH REJECT
DATA ON HOLD
END


-* CAR

TABLE FILE CHKIEW
PRINT CAR_KEY AND ROLL_KEY AND ROLL_LEV
IF ROLL_KEY EQ 'NEW'
ON TABLE HOLD
END

MODIFY FILE C_KIEW
FIXFORM CAR_KEY/A82 LEVEL1/A15
MATCH CAR_KEY
ON MATCH COMPUTE LEVEL1='DEFB';
ON MATCH UPDATE LEVEL1
ON NOMATCH REJECT
DATA ON HOLD
END

MODIFY FILE CHKIEW
FIXFORM CAR_KEY/A82 ROLL_KEY/A50 ROLL_LEV/A15
MATCH CAR_KEY
ON MATCH COMPUTE ROLL_KEY='AAAABD00000000000000000000000000000000000000000000';
ON MATCH COMPUTE ROLL_LEV='DEFB';
ON MATCH UPDATE ROLL_KEY
ON MATCH UPDATE ROLL_LEV
ON NOMATCH REJECT
DATA ON HOLD
END

-* HOTEL

TABLE FILE HHKIEW
PRINT HTL_KEY AND ROLL_KEY AND ROLL_LEV
IF ROLL_KEY EQ 'NEW'
ON TABLE HOLD
END

MODIFY FILE H_KIEW
FIXFORM HTL_KEY/A69 LEVEL1/A15
MATCH HTL_KEY
ON MATCH COMPUTE LEVEL1='DEFB';
ON MATCH UPDATE LEVEL1
ON NOMATCH REJECT
DATA ON HOLD
END

MODIFY FILE HHKIEW
FIXFORM HTL_KEY/A69 ROLL_KEY/A50 ROLL_LEV/A15
MATCH HTL_KEY
ON MATCH COMPUTE ROLL_KEY='AAAABD00000000000000000000000000000000000000000000';
ON MATCH COMPUTE ROLL_LEV='DEFB';
ON MATCH UPDATE ROLL_KEY
ON MATCH UPDATE ROLL_LEV
ON NOMATCH REJECT
DATA ON HOLD
END
-EXIT


