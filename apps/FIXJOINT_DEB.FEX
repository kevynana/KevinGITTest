-INCLUDE SETECHO
 

DEFINE FILE SYJOINT
FARE_PAID/D12.2CS = SEG_AMT + SEG_TAX;
END
TABLE FILE SYJOINT
PRINT AIR_KEY EMBARK ROUTE TKT_SORT SEG_NBR  
BY AIR_KEY NOPRINT
BY EMBARK NOPRINT
BY ROUTE NOPRINT
BY TKT_SORT
BY SEG_NBR NOPRINT
WHERE TKT_SORT CONTAINS '7649703747A'
WHERE SEG_NBR EQ '09'
ON TABLE HOLD 
END

MODIFY FILE SYJOINT
LOG NOMATCH MSG OFF
FIXFORM FROM HOLD
MATCH AIR_KEY EMBARK ROUTE TKT_SORT SEG_NBR
ON MATCH COMPUTE SEG_DISCOUNT=1.11;
ON MATCH UPDATE SEG_DISCOUNT
ON NOMATCH REJECT
DATA ON HOLD
END

DEFINE FILE DYJOINT
FARE_PAID/D12.2CS = SEG_AMT + SEG_TAX;
END
TABLE FILE DYJOINT
PRINT AIR_KEY EMBARK ROUTE TKT_SORT SEG_NBR  
BY AIR_KEY NOPRINT
BY EMBARK NOPRINT
BY ROUTE NOPRINT
BY TKT_SORT
BY SEG_NBR NOPRINT
WHERE TKT_SORT CONTAINS '7649703747A'
WHERE SEG_NBR EQ '06'
ON TABLE HOLD 
END

MODIFY FILE DYJOINT
LOG NOMATCH MSG OFF
FIXFORM FROM HOLD
MATCH AIR_KEY EMBARK ROUTE TKT_SORT SEG_NBR
ON MATCH COMPUTE SEG_DISCOUNT=1.11;
ON MATCH UPDATE SEG_DISCOUNT
ON NOMATCH REJECT
DATA ON HOLD
END


DEFINE FILE MYJOINT
FARE_PAID/D12.2CS = SEG_AMT + SEG_TAX;
END
TABLE FILE MYJOINT
PRINT AIR_KEY EMBARK ROUTE TKT_SORT SEG_NBR  
BY AIR_KEY NOPRINT
BY EMBARK NOPRINT
BY ROUTE NOPRINT
BY TKT_SORT
BY SEG_NBR NOPRINT
WHERE TKT_SORT CONTAINS '7649703747A'
WHERE SEG_NBR EQ '06'
ON TABLE HOLD 
END

MODIFY FILE MYJOINT
LOG NOMATCH MSG OFF
FIXFORM FROM HOLD
MATCH AIR_KEY EMBARK ROUTE TKT_SORT SEG_NBR
ON MATCH COMPUTE SEG_DISCOUNT=1.11;
ON MATCH UPDATE SEG_DISCOUNT
ON NOMATCH REJECT
DATA ON HOLD
END      