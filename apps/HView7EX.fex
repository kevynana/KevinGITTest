-*****************THIS HEADER REPRESENTS THE 80 CHARACTER MAXIUM FOR PROGRAMS**

-* File HVIEW3EX.FEX
-********************************************************************
-* MODIFICAIONS:
-********************************************************************
-*
-* This program extracts data for the series of basic hotel location listing
-* reports.  Based on the user profile selected, one of many report 
-* formats will be produced.  
-* 12/12/01 - JK  ADDED DEFINE FOR ONLINE
-* 04/01/04 - DV  ADDED BOOKINGS DEFINE PER STEVE
-*4/20/04    DV   CHANGED PREF_NON DEFINE TO INCLUDE REFUSE_CD 'T'
-*5/12/04    DV   CHANGED PREF_NON DEFINE TO INCLUDE REFUSE_CD 'CC'
-*5/06/05   DV   ADDED CODE FOR GLOBAL CURRENCY
-*7/13/05   DV   CHANGED PREF_NON DEFINE TO INCLUDE REFUSE_CD 'R'
-*               AND REMOVED REFUSE_CD 'CC'
-* 1/7/13 DV CHANGED PREF_NON DEFINE TO INCLUDE CLIENT_PREF C OR P
-* 1/30/13 - DEB changed due to expansion of car database to
-* include trip purpose 
-* Joy Updated Pref_Non define to contain C/P/N/M/L
-* Joy Added additional field for MXTPHCIT 1/22/14
-* Added gotos and defines for ALTPHCIT to use HH reason code instead of R which MXTPHCIT uses JK 3/10/14
-* Added logic for new report MXTPHCCW - JK 5/16/14
-* Updated DONMEX goto label - JK 5/20/14
-* Updated DONEMX goto label - Deb 6/13/14
-* Added routine for ALTPHCHH - DEB - 7/15/14
-* 9/9/14 Updated Pref_non define to use exclude_flags - jk
-* 9/24/14 Updated to use exclude flags in % - JK
-* 2/3/15 - DEB - S-07299 CORRECTED % TO NOT EXCEED 100.0
-* 2/18/15 - DEB - S-S-07457 UPDATED CHAIN_WIDE DEFINE
-*9/28/16-JEM-S-25167-Moved goto for CGTPHPN to correct error
-********************************************************************
-INCLUDE SETECHO
SET ASNAMES = ON
-SET HOLDATTR = ON;
-RUN
-SET &HTLDATES = &&WEB_PATH || 'HTLDATES.fex';

-IF '&&SETF.EVAL' EQ 'MXTPHCIT' OR 'ALTPHCIT' OR 'MXTPHCCW' OR 'ALTPHCHH' THEN GOTO MXPCTY;

DEFINE FILE &&EXTRACT

  CITY_ST/A35 = PROP_CITY||(' '| PROP_STATE);
  LEVEL_DESC/A60  = &&LDESC;
  IN_DATE/MDYY = CHKIN_DATE;
  INV_DATE/MDYY = INVOICE_DATE;
  NEW_ROOM_RATE/D12.2C = ROOM_RATE;
  NEW_STD_RATE/D12.2C = STD_RATE;
  NEW_TOTAL_AMT/D12.2C = TOTAL_AMT;
  NBR_DAYS/D12 =  NUM_DAYS; 
  NNROOMS/D12 = IF (NBR_DAYS LT 0) AND (NUM_ROOMS LT 0)
                THEN ((NBR_DAYS*NUM_ROOMS)*(-1))
                ELSE NBR_DAYS*NUM_ROOMS;
  OUT_DATE/MDYY = CHKOUT_DATE;
  PROP_ZIP5/A5=EDIT(PROP_ZIP, '99999$$$$$');
  REFUSE_CD/A2 = EDIT(REFUSE_KEY,'$$$$$$$$99');	
-* ****DEFINES ON PREVIOUS DEFINES****
  BOOKINGS/D8 = IF NEW_TOTAL_AMT GE 0 THEN 1 ELSE (-1);
-*   PREF_NON/A15 = IF REFUSE_CD EQ 'A' OR 'T' OR 'R' THEN 'PREFERRED' ELSE
-*                  'NON-PREFERRED';
-*PREF_NON/A15 = IF CLIENT_PREF EQ 'C' OR 'P' OR 'N' OR 'M' OR 'L'  THEN 'PREFERRED' ELSE 'NON-PREFERRED';
 PNP_FLAG/A1 = EDIT(EXCLUDE_FLAGS, '$9');
 PNP_IE/A1 = EDIT(EXCLUDE_FLAGS, '$$9');
-IF &&SETF EQ 'CGTPHPN' GOTO CGDEFINE;                 
  
 PREF_NON/A15 = IF PNP_FLAG EQ 'I'  THEN 'PREFERRED' ELSE 'NON-PREFERRED';
-GOTO NOCG;
-CGDEFINE;               
   PREF_NON/A15 = IF REFUSE_CODE EQ 'A' OR 'R' THEN 'PREFERRED' ELSE 'NON-PREFERRED';
-NOCG;
  TOTAL_STD/D12.2C = IF (NNROOMS LT 0) AND (NEW_STD_RATE LT 0) 
                     THEN ((NNROOMS * NEW_STD_RATE)*(-1))
                     ELSE NNROOMS * NEW_STD_RATE;
-* ***DEFINES ON PREVIOUS DEFINED DEFINES***
   SAVINGS/D12.2CS = TOTAL_STD - TOTAL_AMT;
   TOTAL_SLSAV/D12.2C = TOTAL_STD - NEW_TOTAL_AMT;
   NPREF_AMT/D12.2C = IF PREF_NON EQ 'NON-PREFERRED' THEN TOTAL_AMT ELSE 0;
   NPREF_NGT/D12 = IF PREF_NON EQ 'NON-PREFERRED' THEN NNROOMS ELSE 0;
   PREF_AMT/D12.2C = IF PREF_NON EQ 'PREFERRED' THEN TOTAL_AMT ELSE 0;
   PREF_NGT/D12 = IF PREF_NON EQ 'PREFERRED' THEN NNROOMS ELSE 0;
   TTL_NGT/D12 = NPREF_NGT + PREF_NGT;
   XIN_DOW/WR = IN_DATE;
   XOUT_DOW/WR = OUT_DATE;
   CG_PREF/A1 = IF HOTEL_PHONE EQ '3142313003' OR '3144211776' OR '7709688990' OR '6265746900' OR '6265745600'
                               OR '3192948700' OR '9726613113' OR '9157796222' OR '6162426000' OR '8709749500'
                               OR '7635668000' OR '6309712000' OR '6308521500' OR '9209661300' OR '7753563300'
                               OR '5024230018' OR '8013949400' OR '4798457770' OR '6045201776' OR '9053583817'
                               OR '9729912800' OR '7406544445' OR '2699637050' OR '2093692700' OR '3146215262' THEN 'Y' ELSE 'N';
  NNROOMSPN/P12CS = IF PNP_FLAG EQ 'I' AND PNP_IE EQ 'I' THEN NNROOMS ELSE 
                   IF PNP_FLAG EQ 'E' AND PNP_IE EQ 'I' THEN NNROOMS ELSE 0;    
      
  NNROOMS3/P12CS = IF PNP_IE EQ 'I' THEN NNROOMS ELSE 0;  
  BKGSPN/P12CS = IF PNP_FLAG EQ 'I' AND PNP_IE EQ 'I' THEN NNROOMS ELSE 
                   IF PNP_FLAG EQ 'E' AND PNP_IE EQ 'I' THEN NNROOMS ELSE 0;    
      
  BKGS3/P12CS = IF PNP_IE EQ 'I' THEN NNROOMS ELSE 0;   

END
-RUN

TABLEF FILE &&EXTRACT
PRINT
  BOOKINGS
  BKGS3
  BKGSPN
  CHAIN_CODE
  CHAIN_NAME
  CITY_ST
  CURR_DATE
  HHL_CONFIRM 	
  HOTEL_PHONE 	
  HTL_KEY	
  IN_DATE 	
  INV_DATE	
  INVOICE_DATE 	
  INVOICE_NUM 	
  LEVEL_DESC	
  NEW_ROOM_RATE
  NEW_STD_RATE
  NEW_TOTAL_AMT
  NBR_DAYS	
  NNROOMS
  NNROOMSPN
  NNROOMS3
  NPREF_AMT
  NPREF_NGT
  NUM_DAYS 	
  NUM_ROOMS	
  OUT_DATE 
  PREF_AMT
  PREF_NGT	
  PROP_ZIP5
  PASSNGR_NAME 	
  PREF_NON
  PROP_ADDRESS 	
  PROP_CITY 	
  PROP_NAME 	
  PROP_STATE_CD
  REFUSE_CD 	
  ROOM_RATE 	
  SAVINGS	
  STD_RATE 	
  TOTAL_AMT 	
  TOTAL_STD 	
  TOTAL_SLSAV
  TTL_NGT
  XIN_DOW
  XOUT_DOW
-INCLUDE &HTLDATES 
-IF '&&SETF.EVAL' EQ 'BZTPHPND' THEN GOTO DOMSET ELSE 
-IF '&&SETF.EVAL' EQ 'BZTPHPNI' GOTO INTSET ELSE GOTO NOSET;
-DOMSET;
WHERE CITY.INTL_DOM EQ 'D'
-GOTO NOSET;
-INTSET;
WHERE CITY.INTL_DOM EQ 'I'
-NOSET;
-* WHERE INVOICE_DATE GE &&FROMDT.EVAL AND INVOICE_DATE LE &&TODT.EVAL
-********************************************************************
-* Where statements to select data specified in user profile
-********************************************************************
&&WHERE1
&&WHERE2
&&WHERE3
&&WHERE4
&&WHERE5
&&WHERE6
&&WHERE7
&&WHERE8
&&WHERE9
&&WHERE10

-INCLUDE RPTPARMS

ON TABLE HOLD AS HHOLD

END
-RUN


TABLE FILE HHOLD
PRINT BOOKINGS 
  BKGS3
  BKGSPN
  CHAIN_CODE
  CHAIN_NAME
  CITY_ST
  HHL_CONFIRM 	
  HOTEL_PHONE 	
  HTL_KEY	
  IN_DATE 	
  INV_DATE	
  INVOICE_DATE 	
  INVOICE_NUM 	
  LEVEL_DESC	
  NEW_ROOM_RATE
  NEW_STD_RATE
  NEW_TOTAL_AMT
  NBR_DAYS	
  NNROOMS
  NNROOMS3
  NNROOMSPN
  NPREF_AMT
  NPREF_NGT
  NUM_DAYS 	
  NUM_ROOMS	
  OUT_DATE 
  PREF_AMT
  PREF_NGT	
  PROP_ZIP5
  PASSNGR_NAME 	
  PREF_NON
  PROP_ADDRESS 	
  PROP_CITY 	
  PROP_NAME 	
  PROP_STATE_CD
  REFUSE_CD 	
  ROOM_RATE 	
  SAVINGS	
  STD_RATE 	
  TOTAL_AMT 	
  TOTAL_STD 	
  TOTAL_SLSAV
  TTL_NGT
  XIN_DOW
  XOUT_DOW
BY CURR_DATE
ON TABLE HOLD AS HHOLD2 FORMAT FOCUS INDEX CURR_DATE
END
-RUN

-* Global Reporting JOIN
JOIN HHOLD2.CURR_DATE IN HHOLD2 TO GLOBAL.DATE IN GLOBAL AS J1
END

DEFINE FILE HHOLD2
NAMEC/A30 = CNAME;
AMT_TOTAL/D12.2 = NEW_TOTAL_AMT;

-******************************************************************************
-*                         Global Currency Conversion Defines
-******************************************************************************
CURR1X/D20.6 = 1 / USDPU ;


AMT_TOTALX/D20.6 = AMT_TOTAL * CURR1X;
AMT_PREFX/D20.6 = PREF_AMT * CURR1X;
AMT_NPREFX/D20.6 = NPREF_AMT * CURR1X;
SLSAV_TTLX/D20.6 = TOTAL_SLSAV * CURR1X;


-* DEFINES ON PREVIOUS DEFINES

AMT_TOTL1/D20.6C = AMT_TOTALX;
AMT_PREF1/D20.6 = AMT_PREFX;
AMT_NPREF1/D20.6 = AMT_NPREFX;
SLSAV_TTL1/D20.6 = SLSAV_TTLX;
END

TABLE FILE HHOLD2
PRINT BOOKINGS 
  BKGS3
  BKGSPN
  CHAIN_CODE
  CHAIN_NAME
  CITY_ST
  HHL_CONFIRM 	
  HOTEL_PHONE 	
  HTL_KEY	
  IN_DATE 	
  INV_DATE	
  INVOICE_DATE 	
  INVOICE_NUM 	
  LEVEL_DESC	
  NEW_ROOM_RATE
  NEW_STD_RATE
  NEW_TOTAL_AMT
  NBR_DAYS	
  NNROOMS
  NNROOMS3
  NNROOMSPN
  NPREF_AMT
  NPREF_NGT
  NUM_DAYS 	
  NUM_ROOMS	
  OUT_DATE 
  PREF_AMT
  PREF_NGT	
  PROP_ZIP5
  PASSNGR_NAME 	
  PREF_NON
  PROP_ADDRESS 	
  PROP_CITY 	
  PROP_NAME 	
  PROP_STATE_CD
  REFUSE_CD 	
  ROOM_RATE 	
  SAVINGS	
  STD_RATE 	
  TOTAL_AMT 	
  TOTAL_STD 	
  TOTAL_SLSAV
  TTL_NGT
  XIN_DOW
  XOUT_DOW
  NAMEC
  AMT_TOTL1/D16.2CS
  AMT_PREF1/D16.2CS
  AMT_NPREF1/D16.2CS
  SLSAV_TTL1/D16.2CS
WHERE GLOBAL.COUNTRYCODE EQ '&&CURRENCY'
ON TABLE HOLD AS HTLHLD2
END
-RUN
-GOTO XXIT;


-MXPCTY;



DEFINE FILE &&EXTRACT
  CHNPHN/A17 = CHAIN_CODE||HOTEL_PHONE;
  CITY_ST/A35 = PROP_CITY||(' '| PROP_STATE);
  LEVEL_DESC/A60  = &&LDESC;
  IN_DATE/MDYY = CHKIN_DATE;
  INV_DATE/MDYY = INVOICE_DATE;
  NEW_ROOM_RATE/D12.2C = ROOM_RATE;
  NEW_STD_RATE/D12.2C = STD_RATE;
  NEW_TOTAL_AMT/D12.2C = TOTAL_AMT;
  NBR_DAYS/P12 =  NUM_DAYS; 
  NNROOMS/P12 = IF (NBR_DAYS LT 0) AND (NUM_ROOMS LT 0)
                THEN ((NBR_DAYS*NUM_ROOMS)*(-1))
                ELSE NBR_DAYS*NUM_ROOMS;
  OUT_DATE/MDYY = CHKOUT_DATE;
  PROP_ZIP5/A5=EDIT(PROP_ZIP, '99999$$$$$');
  CHNPHN/A17 = CHAIN_CODE||HOTEL_PHONE;
-*  PREF_NON/A15 = IF CLIENT_PREF EQ 'C' OR 'P' OR 'L' OR 'M' OR 'N' THEN 'PREFERRED' ELSE 'NON-PREFERRED';
 PNP_FLAG/A1 = EDIT(EXCLUDE_FLAGS, '$9');
 PNP_IE/A1 = EDIT(EXCLUDE_FLAGS, '$$9');
  
 PREF_NON/A15 = IF PNP_FLAG EQ 'I'  THEN 'PREFERRED' ELSE 'NON-PREFERRED';
-*  CHAIN_WIDE/A25 = IF CLIENT_PREF EQ 'P' THEN 'PREFERRED' ELSE
-*                   IF CLIENT_PREF EQ 'C' THEN 'PREFERRED CHAIN' ELSE 'NON-PREFERRED';
 

CHAIN_WIDE/A25 = IF CLIENT_PREF EQ 'P' THEN 'PREFERRED' ELSE
                 IF CLIENT_PREF EQ 'C' OR 'D' THEN 'PREFERRED CHAIN' ELSE 'NON-PREFERRED';

-*   PREF_NON/A15 = IF HTL_REF.PREFERRED EQ 'Y' THEN 'PREFERRED' ELSE 'NON-PREFERRED';


  REFUSE_CD/A2 = EDIT(REFUSE_KEY,'$$$$$$$$99');	
-* ****DEFINES ON PREVIOUS DEFINES****
  BOOKINGS/P12 = IF NEW_TOTAL_AMT GE 0 THEN 1 ELSE (-1);
  TOTAL_STD/D12.2C = IF (NNROOMS LT 0) AND (NEW_STD_RATE LT 0) 
                     THEN ((NNROOMS * NEW_STD_RATE)*(-1))
                     ELSE NNROOMS * NEW_STD_RATE;
-* ***DEFINES ON PREVIOUS DEFINED DEFINES***
   SAVINGS/D12.2CS = TOTAL_STD - TOTAL_AMT;
   TOTAL_SLSAV/D12.2C = TOTAL_STD - NEW_TOTAL_AMT;
   XIN_DOW/WR = IN_DATE;
   XOUT_DOW/WR = OUT_DATE;   
  NNROOMSPN/P12 = IF PNP_FLAG EQ 'I' AND PNP_IE EQ 'I' THEN NNROOMS ELSE 
                   IF PNP_FLAG EQ 'E' AND PNP_IE EQ 'I' THEN NNROOMS ELSE 0;    
      
  NNROOMS3/P12 = IF PNP_IE EQ 'I' THEN NNROOMS ELSE 0;  
  BKGSPN/P12 = IF PNP_FLAG EQ 'I' AND PNP_IE EQ 'I' THEN NNROOMS ELSE 
                   IF PNP_FLAG EQ 'E' AND PNP_IE EQ 'I' THEN NNROOMS ELSE 0;    
      
  BKGS3/P12 = IF PNP_IE EQ 'I' THEN NNROOMS ELSE 0;  
END
-RUN


TABLEF FILE &&EXTRACT
PRINT
  BOOKINGS
  BKGSPN
  BKGS3
  CHAIN_CODE
  CHAIN_NAME
  CHAIN_WIDE
  CHNPHN
  CITY_ST
  CURR_DATE
  HHL_CONFIRM 	
  HTL_KEY
  IN_DATE 	
  INV_DATE	
  INVOICE_DATE 	
  INVOICE_NUM 	
  LEVEL_DESC	
  NEW_ROOM_RATE
  NEW_STD_RATE
  NEW_TOTAL_AMT
  NBR_DAYS	
  NNROOMS
  NNROOMSPN
  NNROOMS3
  NUM_DAYS 	
  NUM_ROOMS	
  OUT_DATE 
  PROP_ZIP5
  PASSNGR_NAME 	
  PREF_NON
  PROP_ADDRESS 	
  PROP_CITY 	
  PROP_NAME 	
  PROP_PHONE AS 'HOTEL_PHONE'
  PROP_STATE_CD
  REFUSE_CD 	
  ROOM_RATE 	
  SAVINGS	
  STD_RATE 	
  TOTAL_AMT 	
  TOTAL_STD 	
  TOTAL_SLSAV
  XIN_DOW
  XOUT_DOW
-INCLUDE &HTLDATES 

-********************************************************************
-* Where statements to select data specified in user profile
-********************************************************************
&&WHERE1
&&WHERE2
&&WHERE3
&&WHERE4
&&WHERE5
&&WHERE6
&&WHERE7
&&WHERE8
&&WHERE9
&&WHERE10

-INCLUDE RPTPARMS
ON TABLE HOLD AS PHLD2
END
-RUN



TABLE FILE PHLD2
PRINT BOOKINGS
  BKGSPN
  BKGS3
  CHAIN_CODE
  CHAIN_NAME
  CHAIN_WIDE
  CITY_ST
  CURR_DATE
  HHL_CONFIRM 	
  HTL_KEY
  IN_DATE 	
  INV_DATE	
  INVOICE_DATE 	
  INVOICE_NUM 	
  LEVEL_DESC	
  NEW_ROOM_RATE
  NEW_STD_RATE
  NEW_TOTAL_AMT
  NBR_DAYS	
  NNROOMS
  NNROOMSPN
  NNROOMS3
  NUM_DAYS 	
  NUM_ROOMS	
  OUT_DATE 
  PROP_ZIP5
  PASSNGR_NAME 	
  PREF_NON
  PROP_ADDRESS 	
  PROP_CITY 	
  PROP_NAME 	
  HOTEL_PHONE
  PROP_STATE_CD
  REFUSE_CD 	
  ROOM_RATE 	
  SAVINGS	
  STD_RATE 	
  TOTAL_AMT 	
  TOTAL_STD 	
  TOTAL_SLSAV
  XIN_DOW
  XOUT_DOW
-* WHERE CITY_ST IN FILE PHLD1
ON TABLE HOLD AS PHLD2
END
-RUN
 
DEFINE FILE PHLD2
-IF &&SETF EQ 'MXTPHCCW' GOTO MXCWDEFINES;
-* PREF_NON/A15 = IF PREF_KEY EQ ' ' THEN 'PREFERRED' ELSE 'NON-PREFERRED';
NPREF_AMT/D12.2C = IF PREF_NON EQ 'NON-PREFERRED' THEN TOTAL_AMT ELSE 0;
NPREF_NGT/D12 = IF PREF_NON EQ 'NON-PREFERRED' THEN NNROOMS ELSE 0;
PREF_AMT/D12.2C = IF PREF_NON EQ 'PREFERRED' THEN TOTAL_AMT ELSE 0;
PBOOK/D8 = IF PREF_NON EQ 'PREFERRED' THEN BOOKINGS ELSE 0;
PREF_NGT/D12 = IF PREF_NON EQ 'PREFERRED' THEN NNROOMS ELSE 0;
-IF &&SETF EQ 'ALTPHCIT' GOTO ALDEFINES;
RAMT/D12.2C = IF REFUSE_CD EQ 'R' THEN TOTAL_AMT ELSE 0;
RBOOK/D8 = IF REFUSE_CD EQ 'R' THEN BOOKINGS ELSE 0;
RNGT/D12 = IF REFUSE_CD EQ 'R' THEN NNROOMS ELSE 0; 
TTL_NGT/D12 = NPREF_NGT + PREF_NGT;
-GOTO DONEMX; 
-ALDEFINES;
RAMT/D12.2C = IF REFUSE_CD EQ 'HH' THEN TOTAL_AMT ELSE 0;
RBOOK/D8 = IF REFUSE_CD EQ 'HH' THEN BOOKINGS ELSE 0;
RNGT/D12 = IF REFUSE_CD EQ 'HH' THEN NNROOMS ELSE 0; 
TTL_NGT/D12 = NPREF_NGT + PREF_NGT;
-*-GOTO DONEMEX;
-GOTO DONEMX
-MXCWDEFINES;
NPREF_AMT/D12.2C = IF CHAIN_WIDE EQ 'NON-PREFERRED' THEN TOTAL_AMT ELSE 0;
NPREF_NGT/D12 = IF CHAIN_WIDE EQ 'NON-PREFERRED' THEN NNROOMS ELSE 0;
PREF_AMT/D12.2C = IF CHAIN_WIDE NE 'NON-PREFERRED' THEN TOTAL_AMT ELSE 0;
PBOOK/D12 = IF CHAIN_WIDE NE 'NON-PREFERRED' THEN BOOKINGS ELSE 0;
PREF_NGT/D12 = IF CHAIN_WIDE NE 'NON-PREFERRED' THEN NNROOMS ELSE 0;
RAMT/D12.2C = IF REFUSE_CD EQ 'R' THEN TOTAL_AMT ELSE 0;
RBOOK/D12 = IF REFUSE_CD EQ 'R' THEN BOOKINGS ELSE 0;
RNGT/D12 = IF REFUSE_CD EQ 'R' THEN NNROOMS ELSE 0; 
TTL_NGT/D12 = NPREF_NGT + PREF_NGT;
-DONEMX;
END
-RUN
TABLE FILE PHLD2
PRINT BOOKINGS 
  BKGSPN
  BKGS3
  CHAIN_NAME
  CHAIN_CODE
  CHAIN_WIDE
  CITY_ST
  CURR_DATE
  HHL_CONFIRM 	
  HOTEL_PHONE
  HTL_KEY	
  IN_DATE 	
  INV_DATE	
  INVOICE_DATE 	
  INVOICE_NUM 	
  LEVEL_DESC	
  NEW_ROOM_RATE
  NEW_STD_RATE
  NEW_TOTAL_AMT
  NBR_DAYS	
  NNROOMS
  NNROOMSPN
  NNROOMS3
  NPREF_AMT
  NPREF_NGT
  NUM_DAYS 	
  NUM_ROOMS	
  OUT_DATE 
  PREF_NON
  PREF_AMT
  PREF_NGT	
  PROP_ZIP5
  PASSNGR_NAME 	
  PROP_ADDRESS 	
  PROP_CITY 	
  PROP_NAME 	
  PROP_STATE_CD
  RAMT
  RNGT
  REFUSE_CD 	
  ROOM_RATE 	
  SAVINGS	
  STD_RATE 	
  TOTAL_AMT 	
  TOTAL_STD 	
  TOTAL_SLSAV
  TTL_NGT
  XIN_DOW
  XOUT_DOW
  RBOOK
  PBOOK
BY CITY_ST
ON TABLE HOLD AS MXPREFH
END
-RUN



-XXIT;
-*-EXIT

