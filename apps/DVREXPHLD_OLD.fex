-**********************************************************************
-*DVREXPHLD.fex
-**********************************************************************

 


-SET &HLDPATH=TEMPPATH(50,'A50');
-SET &HNKA=&HLDPATH || 'HOLDA.FOC';
-SET &HNKC=&HLDPATH || 'HOLDC.FOC';
-SET &HNKB=&HLDPATH || 'HOLDH.FOC';
-RUN

-SET &FILENAME = IF '&GETAIREXP.EVAL' EQ 'Y' THEN 'HOLDA' 
-           ELSE IF '&GETCAREXP.EVAL' EQ 'Y' THEN 'HOLDC'
-           ELSE IF '&GETHTLEXP.EVAL' EQ 'Y' THEN 'HOLDH' ELSE 'HOLDA';


-DOS STATE &HNKA
-SET &HOLDFILEA = IF &RETCODE.EVAL EQ 0 THEN &HNKA | ' AS ' | &FILENAME ELSE ' ';

-DOS STATE &HNKC
-SET &HOLDFILEC = IF &RETCODE.EVAL EQ 0 THEN &HNKC | ' AS ' | &FILENAME ELSE ' ';

-DOS STATE &HNKB
-SET &HOLDFILEH = IF &RETCODE.EVAL EQ 0 THEN &HNKB | ' AS ' | &FILENAME ELSE ' ';

 

USE ADD 
&HOLDFILEA
&HOLDFILEC
&HOLDFILEH
END

 
 


 
TABLE FILE &FILENAME
SUM
  AMOUNT
  TTL_COUNT
BY LEVEL_DESC
BY PASSNGR_NAME
BY PNR_LOCATOR
BY TRAN_DATE
BY TKT_NUM
BY TSORT
BY SEG
BY TYPE
BY NAME 
BY DATE
BY DATE2
BY CITY1
BY FLAG
BY ACCT
BY INVOICE_NUM
BY STATUS
BY DV_NUM
BY LEVEL1
BY LEVEL2
BY LEVEL3
BY LEVEL4
BY LEVEL5
BY TRIP_PURPOSE
BY TRP_DESC
BY GEO_ZONE
ON TABLE HOLD AS HOLDE 
-* ON TABLE COLUMN-TOTAL
END
-RUN

 
 

TABLE FILE HOLDE
PRINT 
ACCT 
LEVEL1 
TRAN_DATE 
DATE 
DATE2 
INVOICE_NUM 
TKT_NUM 
FLAG 
NAME 
DV_NUM 
CITY1 
TYPE 
STATUS 
AMOUNT 
LEVEL2 
LEVEL3 
LEVEL4
LEVEL5
TRIP_PURPOSE
TRP_DESC
BY FLAG
BY PASSNGR_NAME 
BY TRAN_DATE 
BY TKT_NUM 
ON TABLE HOLD AS EXPENSE
END
-RUN




-SET &&EXPENSERECS = &LINES;
