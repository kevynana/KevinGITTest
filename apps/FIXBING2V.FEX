SET ASNAMES = ON


-* SEGMENT
TABLE FILE S9BING
PRINT AIR_KEY EMBARK ROUTE TKT_SORT SEG_NBR
IF TKT_SORT CONTAINS 9001087117
IF SEG_NBR EQ 01
ON TABLE HOLD
END

MODIFY FILE S9BING
FIXFORM FROM HOLD
MATCH AIR_KEY EMBARK ROUTE TKT_SORT SEG_NBR
ON MATCH COMPUTE ROUTE='NYP';
ON MATCH COMPUTE ND_DST='NYP';
ON MATCH COMPUTE ORG_DST='BOSNYP';
ON MATCH UPDATE ROUTE
ON MATCH UPDATE ND_DST
ON MATCH UPDATE ORG_DST
ON NOMATCH REJECT
DATA ON HOLD
END

TABLE FILE S9BING
PRINT AIR_KEY EMBARK ROUTE TKT_SORT SEG_NBR
IF TKT_SORT CONTAINS 9001087117
IF SEG_NBR EQ 02
ON TABLE HOLD
END

MODIFY FILE S9BING
FIXFORM FROM HOLD
MATCH AIR_KEY EMBARK ROUTE TKT_SORT SEG_NBR
ON MATCH COMPUTE EMBARK='NYP';
ON MATCH COMPUTE ND_DST='NYP';
ON MATCH COMPUTE ORG_DST='BOSNYP';
ON MATCH UPDATE EMBARK
ON MATCH UPDATE ND_DST
ON MATCH UPDATE ORG_DST
ON NOMATCH REJECT
DATA ON HOLD
END


-* MARKET

TABLE FILE M9BING
PRINT AIR_KEY EMBARK ROUTE TKT_SORT SEG_NBR
IF TKT_SORT CONTAINS 9001087117
IF SEG_NBR EQ 01
ON TABLE HOLD
END

MODIFY FILE M9BING
FIXFORM FROM HOLD
MATCH AIR_KEY EMBARK ROUTE TKT_SORT SEG_NBR
ON MATCH COMPUTE ROUTE='NYP';
ON MATCH COMPUTE ND_DST='NYP';
ON MATCH COMPUTE ORG_DST='BOSNYP';
ON MATCH UPDATE ROUTE
ON MATCH UPDATE ND_DST
ON MATCH UPDATE ORG_DST
ON NOMATCH REJECT
DATA ON HOLD
END

TABLE FILE M9BING
PRINT AIR_KEY EMBARK ROUTE TKT_SORT SEG_NBR
IF TKT_SORT CONTAINS 9001087117
IF SEG_NBR EQ 02
ON TABLE HOLD
END

MODIFY FILE M9BING
FIXFORM FROM HOLD
MATCH AIR_KEY EMBARK ROUTE TKT_SORT SEG_NBR
ON MATCH COMPUTE EMBARK='NYP';
ON MATCH COMPUTE ND_DST='NYP';
ON MATCH COMPUTE ORG_DST='BOSNYP';
ON MATCH UPDATE EMBARK
ON MATCH UPDATE ND_DST
ON MATCH UPDATE ORG_DST
ON NOMATCH REJECT
DATA ON HOLD
END

-* DESTINATION

TABLE FILE D9BING
PRINT AIR_KEY EMBARK ROUTE TKT_SORT SEG_NBR
IF TKT_SORT CONTAINS 9001087117
IF SEG_NBR EQ 01
ON TABLE HOLD
END

MODIFY FILE D9BING
FIXFORM FROM HOLD
MATCH AIR_KEY EMBARK ROUTE TKT_SORT SEG_NBR
ON MATCH COMPUTE ROUTE='NYP';
ON MATCH COMPUTE ND_DST='NYP';
ON MATCH COMPUTE ORG_DST='BOSNYP';
ON MATCH UPDATE ROUTE
ON MATCH UPDATE ND_DST
ON MATCH UPDATE ORG_DST
ON NOMATCH REJECT
DATA ON HOLD
END

TABLE FILE D9BING
PRINT AIR_KEY EMBARK ROUTE TKT_SORT SEG_NBR
IF TKT_SORT CONTAINS 9001087117
IF SEG_NBR EQ 02
ON TABLE HOLD
END

MODIFY FILE D9BING
FIXFORM FROM HOLD
MATCH AIR_KEY EMBARK ROUTE TKT_SORT SEG_NBR
ON MATCH COMPUTE EMBARK='NYP';
ON MATCH COMPUTE ND_DST='NYP';
ON MATCH COMPUTE ORG_DST='BOSNYP';
ON MATCH UPDATE EMBARK
ON MATCH UPDATE ND_DST
ON MATCH UPDATE ORG_DST
ON NOMATCH REJECT
DATA ON HOLD
END