-*****************THIS HEADER REPRESENTS THE 80 CHARACTER MAXIUM FOR PROGRAMS**

-*STDTIME.FEX
-TYPE "STDTIME"

NEWTIME/I4 = EDIT(DPT_TIME);
-*STD1/I4 = EDIT(DPT_TIME);
-*STD2/I4 = EDIT(DPT_TIME);

STDTIME/I4 = IF NEWTIME LT 1259 THEN NEWTIME
ELSE (NEWTIME-1200);

HOURPART/A2 = EDIT(STDTIME,  '99$$');
MINPART/A2 = EDIT(STDTIME, '$$99');
STD1/A3 = ' am';
STD2/A3 = ' pm';
STD/A3 = IF NEWTIME GT 1200 THEN STD2 ELSE STD1;
HOUR2/A1 = EDIT(HOURPART, '9');
HOUR3/A2 = EDIT(HOURPART, '99');
HOUR4/A1 = ' '; 
HOUR5/A1 = EDIT(HOURPART, '$9');

NEWCODE/A8 = IF STDTIME LT 1000 THEN HOUR4 | HOUR5 || ':' || MINPART || STD 
ELSE HOUR3 || ':' || MINPART || STD;

TIME_DPT/A8 = IF DPT_TIME EQ ' ' THEN ' ' 
ELSE NEWCODE;
-GOTO XXIT
-*****************************************************************************
-**    				TIME_ARR 				   ***	                 
-*****************************************************************************

NEWTIME1/I4 = EDIT(ARR_TIME);
-*STD3/I4 = EDIT(ARR_TIME);
-*STD4/I4 = EDIT(ARR_TIME);

STDTIME1/I4 = IF NEWTIME1 LT 1259 THEN NEWTIME1
ELSE (NEWTIME1-1200);

HOURPART1/A2 = EDIT(STDTIME1,  '99$$');
MINPART1/A2 = EDIT(STDTIME1, '$$99');
STD3/A3 = ' am';
STD4/A3 = ' pm';
STD5/A3 = IF NEWTIME1 GT 1200 THEN STD4 ELSE STD3;
HOUR6/A1 = EDIT(HOURPART1, '9');
HOUR7/A2 = EDIT(HOURPART1, '99');
HOUR8/A1 = ' '; 
HOUR9/A1 = EDIT(HOURPART1, '$9');

NEWCODE1/A8 = IF STDTIME1 LT 1000 THEN HOUR8 | HOUR9 || ':' || MINPART1 || STD5 
ELSE HOUR7 || ':' || MINPART1 || STD5;

TIME_ARR/A8 = IF ARR_TIME EQ ' ' THEN ' ' 
ELSE NEWCODE1;

-XXIT
