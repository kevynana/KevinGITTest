-* 09/15/2015  DV  S-05438 Changed to use modify instead of maintain
-* File EXECMAI2.FEX
-INCLUDE SETECHO
SET ASNAMES = ON 


DEFINE FILE TC_TKTP2
FLAG/A1 = 'A';
END
TABLE FILE TC_TKTP2
SUM
CDM1NET_AMT CDM1TAX_AMT CDM1TKT_ISS CDM1VOD_ISS CDM1REF_ISS 
CDM1EXG_ISS CDM1SAV_AMT CDM1LOS_AMT CDM1VAS_AMT  CDM1AIR_FEE 
CIM1NET_AMT CIM1TAX_AMT CIM1TKT_ISS CIM1VOD_ISS CIM1REF_ISS 
CIM1EXG_ISS CIM1SAV_AMT CIM1LOS_AMT CIM1VAS_AMT  CIM1AIR_FEE 

PDM1NET_AMT PDM1TAX_AMT PDM1TKT_ISS PDM1VOD_ISS PDM1REF_ISS 
PDM1EXG_ISS PDM1SAV_AMT PDM1LOS_AMT PDM1VAS_AMT  PDM1AIR_FEE 
PIM1NET_AMT PIM1TAX_AMT PIM1TKT_ISS PIM1VOD_ISS PIM1REF_ISS 
PIM1EXG_ISS PIM1SAV_AMT PIM1LOS_AMT PIM1VAS_AMT  PIM1AIR_FEE

CDY1NET_AMT CDY1TAX_AMT CDY1TKT_ISS CDY1VOD_ISS CDY1REF_ISS  
CDY1EXG_ISS CDY1SAV_AMT CDY1LOS_AMT CDY1VAS_AMT  CDY1AIR_FEE 
CIY1NET_AMT CIY1TAX_AMT CIY1TKT_ISS CIY1VOD_ISS CIY1REF_ISS 
CIY1EXG_ISS CIY1SAV_AMT CIY1LOS_AMT CIY1VAS_AMT  CIY1AIR_FEE 

PDY1NET_AMT PDY1TAX_AMT PDY1TKT_ISS PDY1VOD_ISS PDY1REF_ISS 
PDY1EXG_ISS PDY1SAV_AMT PDY1LOS_AMT PDY1VAS_AMT  PDY1AIR_FEE
PIY1NET_AMT PIY1TAX_AMT PIY1TKT_ISS PIY1VOD_ISS PIY1REF_ISS 
PIY1EXG_ISS PIY1SAV_AMT PIY1LOS_AMT PIY1VAS_AMT  PIY1AIR_FEE

-* Air volume 
COMPUTE CDTOTAMT/D10 = CDM1NET_AMT + CDM1TAX_AMT;
COMPUTE PDTOTAMT/D10 = PDM1NET_AMT + PDM1TAX_AMT;
COMPUTE CITOTAMT/D10 = CIM1NET_AMT + CIM1TAX_AMT;
COMPUTE PITOTAMT/D10 = PIM1NET_AMT + PIM1TAX_AMT;
COMPUTE CTOTAMT/D10 = CDTOTAMT + CITOTAMT;
COMPUTE PTOTAMT/D10 = PDTOTAMT + PITOTAMT;
COMPUTE DTOTVAR/D10 = CDTOTAMT - PDTOTAMT; 
COMPUTE DTOTVPCT/D6.2= IF ((PDTOTAMT LT 1) AND (PDTOTAMT GT (-1))) THEN 0 ELSE
                           (DTOTVAR/PDTOTAMT) * 100;
COMPUTE ITOTVAR/D10 = CITOTAMT - PITOTAMT; 
COMPUTE ITOTVPCT/D6.2= IF ((PITOTAMT LT 1) AND (PITOTAMT GT (-1))) THEN 0 ELSE
                           (ITOTVAR/PITOTAMT) * 100;
COMPUTE TTOTVAR/D10.2=  CTOTAMT -  PTOTAMT;
COMPUTE TTOTVPCT/D6.2 = IF ((PTOTAMT LT 1) AND (PTOTAMT GT (-1))) THEN 0 ELSE
                  (TTOTVAR/PTOTAMT) * 100;

-*Taxes

COMPUTE DTAXVAR/D10 = CDM1TAX_AMT - PDM1TAX_AMT; 
COMPUTE DTAXVPCT/D6.2= IF ((PDM1TAX_AMT LT 1) AND (PDM1TAX_AMT GT (-1))) THEN 0 ELSE
                           (DTAXVAR/PDM1TAX_AMT) * 100;
COMPUTE ITAXVAR/D10 = CIM1TAX_AMT - PIM1TAX_AMT; 
COMPUTE ITAXVPCT/D6.2= IF ((PIM1TAX_AMT LT 1) AND (PIM1TAX_AMT GT (-1))) THEN 0 ELSE
                           (ITAXVAR/PIM1TAX_AMT) * 100;
COMPUTE TCTAX/D10 =  CDM1TAX_AMT +  CIM1TAX_AMT;
COMPUTE  TPTAX/D10 =  PDM1TAX_AMT + PIM1TAX_AMT;
COMPUTE  TTAXVAR/D10 =  TCTAX -  TPTAX;
COMPUTE  TTAXVPCT/D6.2 = IF ((TPTAX LT 1) AND (TPTAX GT (-1))) THEN 0 ELSE
                  (TTAXVAR/TPTAX) * 100;

-* Net Volume

COMPUTE DNETVAR/D10= CDM1NET_AMT - PDM1NET_AMT;
COMPUTE DNETVPCT/D6.2 =IF ((PDM1NET_AMT LT 1) AND (PDM1NET_AMT GT (-1))) THEN 0 ELSE
                           (DNETVAR/PDM1NET_AMT) * 100;
COMPUTE INETVAR/D10= CIM1NET_AMT - PIM1NET_AMT;
COMPUTE INETVPCT/D6.2 =IF ((PIM1NET_AMT LT 1) AND (PIM1NET_AMT GT (-1))) THEN 0 ELSE
                           (INETVAR/PIM1NET_AMT) * 100;
COMPUTE CNETAMT/D10 = CDM1NET_AMT + CIM1NET_AMT;
COMPUTE PNETAMT/D10 = PDM1NET_AMT + PIM1NET_AMT;
COMPUTE TNETVAR/D10 = CNETAMT - PNETAMT;
COMPUTE TNETVPCT/D6.2= IF ((PNETAMT LT 1) AND (PNETAMT GT (-1))) THEN 0 ELSE
                           (TNETVAR/PNETAMT) * 100;

-* Air Fees

COMPUTE DFEEVAR/D10 = CDM1AIR_FEE - PDM1AIR_FEE;
COMPUTE DFEEVPCT/D6.2 = IF ((PDM1AIR_FEE LT 1) AND (PDM1AIR_FEE GT (-1))) THEN 0 ELSE
                           (DFEEVAR/PDM1AIR_FEE) * 100;
COMPUTE IFEEVAR/D10 = CIM1AIR_FEE - PIM1AIR_FEE;
COMPUTE IFEEVPCT/D6.2 = IF ((PIM1AIR_FEE LT 1) AND (PIM1AIR_FEE GT (-1))) THEN 0 ELSE
                           (IFEEVAR/PIM1AIR_FEE) * 100;
COMPUTE CTAIR_FEE/D10 = CDM1AIR_FEE + CIM1AIR_FEE;
COMPUTE PTAIR_FEE/D10 = PDM1AIR_FEE + PIM1AIR_FEE;
COMPUTE TFEEVAR/D10 = CTAIR_FEE - PTAIR_FEE;
COMPUTE TFEEVPCT/D6.2 = IF ((PTAIR_FEE LT 1) AND (PTAIR_FEE GT (-1))) THEN 0 ELSE
                           (TFEEVAR/PTAIR_FEE) * 100;

-* Tickets Issued
COMPUTE DTKTVAR/D10 = CDM1TKT_ISS - PDM1TKT_ISS;
COMPUTE DTKTVPCT/D6.2 = IF ((PDM1TKT_ISS LT 1) AND (PDM1TKT_ISS GT (-1))) THEN 0 ELSE
                           (DTKTVAR/PDM1TKT_ISS) * 100;
COMPUTE ITKTVAR/D10 = CIM1TKT_ISS - PIM1TKT_ISS;
COMPUTE ITKTVPCT/D6.2 = IF ((PIM1TKT_ISS LT 1) AND (PIM1TKT_ISS GT (-1))) THEN 0 ELSE
                           (ITKTVAR/PIM1TKT_ISS) * 100;  
COMPUTE CTTKT_ISS/D10 = CDM1TKT_ISS + CIM1TKT_ISS;
COMPUTE PTTKT_ISS/D10 = PDM1TKT_ISS + PIM1TKT_ISS;
COMPUTE TTKTVAR/D10 = CTTKT_ISS - PTTKT_ISS;
COMPUTE TTKTVPCT/D6.2 = IF ((PTTKT_ISS LT 1) AND (PTTKT_ISS GT (-1))) THEN 0 ELSE
                           (TTKTVAR/PTTKT_ISS) * 100;  

-* Full Refunds

COMPUTE DREFVAR/D10 = CDM1REF_ISS - PDM1REF_ISS;
COMPUTE DREFVPCT/D6.2 = IF ((PDM1REF_ISS LT 1) AND (PDM1REF_ISS GT (-1))) THEN 0 ELSE
                           (DREFVAR/PDM1REF_ISS) * 100; 
COMPUTE IREFVAR/D10 = CIM1REF_ISS - PIM1REF_ISS;
COMPUTE IREFVPCT/D6.2 = IF ((PIM1REF_ISS LT 1) AND (PIM1REF_ISS GT (-1))) THEN 0 ELSE
                           (IREFVAR/PIM1REF_ISS) * 100;
COMPUTE CTREF_ISS/D10 = CDM1REF_ISS + CIM1REF_ISS;
COMPUTE PTREF_ISS/D10 = PIM1REF_ISS + PIM1REF_ISS;
COMPUTE TREFVAR/D10 = CTREF_ISS - PTREF_ISS;
COMPUTE TREFVPCT/D6.2 = IF ((PTREF_ISS LT 1) AND (PTREF_ISS GT (-1))) THEN 0 ELSE
                           (TREFVAR/PTREF_ISS) * 100;  


-* Ticket Voided
COMPUTE DVODVAR/D10 = CDM1VOD_ISS - PDM1VOD_ISS;
COMPUTE DVODVPCT/D6.2 = IF ((PDM1VOD_ISS LT 1) AND (PDM1VOD_ISS GT (-1))) THEN 0 ELSE
                           (DVODVAR/PDM1VOD_ISS) * 100;
COMPUTE IVODVAR/D10 = CIM1VOD_ISS - PIM1VOD_ISS;
COMPUTE IVODVPCT/D6.2 = IF ((PIM1VOD_ISS LT 1) AND (PIM1VOD_ISS GT (-1))) THEN 0 ELSE
                           (IVODVAR/PIM1VOD_ISS) * 100;
COMPUTE CTVOD_ISS/D10 = CDM1VOD_ISS + CIM1VOD_ISS;
COMPUTE PTVOD_ISS/D10 = PDM1VOD_ISS + PIM1VOD_ISS;
COMPUTE TVODVAR/D10 = CTVOD_ISS - PTVOD_ISS;
COMPUTE TVODVPCT/D6.2 = IF ((PTVOD_ISS LT 1) AND (PTVOD_ISS GT (-1))) THEN 0 ELSE
                           (TVODVAR/PTVOD_ISS) * 100;  


-* Full Exchanges

COMPUTE DEXGVAR/D10 = CDM1EXG_ISS - PDM1EXG_ISS;
COMPUTE DEXGVPCT/D6.2 = IF ((PDM1EXG_ISS LT 1) AND (PDM1EXG_ISS GT (-1))) THEN 0 ELSE
                           (DEXGVAR/PDM1EXG_ISS) * 100;
COMPUTE IEXGVAR/D10 = CIM1EXG_ISS - PIM1EXG_ISS;
COMPUTE IEXGVPCT/D6.2 = IF ((PIM1EXG_ISS LT 1) AND (PIM1EXG_ISS GT (-1))) THEN 0 ELSE
                           (IEXGVAR/PIM1EXG_ISS) * 100;
COMPUTE CTEXG_ISS/D10 = CDM1EXG_ISS + CIM1EXG_ISS;
COMPUTE PTEXG_ISS/D10 = PDM1EXG_ISS + PIM1EXG_ISS;
COMPUTE TEXGVAR/D10 = CTEXG_ISS - PTEXG_ISS;
COMPUTE TEXGVPCT/D6.2 = IF ((PTEXG_ISS LT 1) AND (PTEXG_ISS GT (-1))) THEN 0 ELSE
                           (TEXGVAR/PTEXG_ISS) * 100;  


-* Net Tickets
 
COMPUTE CDNTTKT/D10 = CDM1TKT_ISS - CDM1VOD_ISS - CDM1REF_ISS - CDM1EXG_ISS;
COMPUTE PDNTTKT/D10 = PDM1TKT_ISS - PDM1VOD_ISS - PDM1REF_ISS - PDM1EXG_ISS;
COMPUTE DNTKTVAR/D10 = CDNTTKT - PDNTTKT;
COMPUTE DNTKTVPCT/D6.2 = IF ((PDNTTKT LT 1) AND (PDNTTKT GT (-1))) THEN 0 ELSE
                           (DNTKTVAR/PDNTTKT) * 100;
COMPUTE CINTTKT/D10 = CIM1TKT_ISS - CIM1VOD_ISS - CIM1REF_ISS - CIM1EXG_ISS;
COMPUTE PINTTKT/D10 = PIM1TKT_ISS - PIM1VOD_ISS - PIM1REF_ISS - PIM1EXG_ISS;
COMPUTE INTKTVAR/D10 = CINTTKT - PINTTKT;
COMPUTE INTKTVPCT/D6.2 = IF ((PINTTKT LT 1) AND (PINTTKT GT (-1))) THEN 0 ELSE
                           (INTKTVAR/PINTTKT) * 100;
COMPUTE CTNTTKT/D10 = CDNTTKT + CINTTKT;
COMPUTE PTNTTKT/D10 = PDNTTKT + PINTTKT;
COMPUTE CTNTKTVAR/D10 = CTNTTKT - PTNTTKT;
COMPUTE CTTKTVPCT/D6.2 = IF ((PTNTTKT LT 1) AND (PTNTTKT GT (-1))) THEN 0 ELSE
                           (CTNTKTVAR/PTNTTKT) * 100;


-* Average ticket cost

 
COMPUTE CDATP/D10.2 = IF ((CDNTTKT LT 1) AND (CDNTTKT GT (-1))) THEN 0 ELSE
                           (CDTOTAMT/CDNTTKT) ;
COMPUTE PDATP/D10.2 = IF ((PDNTTKT LT 1) AND (PDNTTKT GT (-1))) THEN 0 ELSE
                           (PDTOTAMT/PDNTTKT) ;   
COMPUTE DATPVAR/D10 = CDATP - PDATP;
COMPUTE DATPVPCT/D6.2 = IF ((PDATP LT 1) AND (PDATP GT (-1))) THEN 0 ELSE
                           (DATPVAR/PDATP) * 100 ;                           
                           
COMPUTE CIATP/D10.2 = IF ((CINTTKT LT 1) AND (CINTTKT GT (-1))) THEN 0 ELSE
                           (CITOTAMT/CINTTKT)  ;
COMPUTE PIATP/D10.2 = IF ((PINTTKT LT 1) AND (PINTTKT GT (-1))) THEN 0 ELSE
                           (PITOTAMT/PINTTKT);   
COMPUTE IATPVAR/D10 = CIATP - PIATP;
COMPUTE IATPVPCT/D6.2 = IF ((PIATP LT 1) AND (PIATP GT (-1))) THEN 0 ELSE
                           (IATPVAR/PIATP) * 100;               


COMPUTE CTATP/D10.2 = IF ((CTNTTKT LT 1) AND (CTNTTKT GT (-1))) THEN 0 ELSE
                           (CTOTAMT/CTNTTKT)  ;
COMPUTE PTATP/D10.2 = IF ((PINTTKT LT 1) AND (PINTTKT GT (-1))) THEN 0 ELSE
                           (PTOTAMT/PTNTTKT)  ;   
COMPUTE TATPVAR/D10 = CTATP - PTATP;
COMPUTE TATPVPCT/D6.2 = IF ((PTATP LT 1) AND (PTATP GT (-1))) THEN 0 ELSE
                           (TATPVAR/PTATP) * 100;     



-* PERFORMANCE SECTION
-* Lost Savings

COMPUTE DLOSVAR/D10 = CDM1LOS_AMT - PDM1LOS_AMT; 
COMPUTE DLOSVPCT/D6.2= IF ((PDM1LOS_AMT LT 1) AND (PDM1LOS_AMT GT (-1))) THEN 0 ELSE
                           (DLOSVAR/PDM1LOS_AMT) * 100;
COMPUTE ILOSVAR/D10 = CIM1LOS_AMT - PIM1LOS_AMT; 
COMPUTE ILOSVPCT/D6.2= IF ((PIM1LOS_AMT LT 1) AND (PIM1LOS_AMT GT (-1))) THEN 0 ELSE
                           (ILOSVAR/PIM1LOS_AMT) * 100;
COMPUTE CTLOS_AMT/D10 = CDM1LOS_AMT + CIM1LOS_AMT;
COMPUTE PTLOS_AMT/D10 = PDM1LOS_AMT + PIM1LOS_AMT;
COMPUTE TLOSVAR/D10 = CTLOS_AMT - PTLOS_AMT; 
COMPUTE TLOSVPCT/D6.2= IF ((PTLOS_AMT LT 1) AND (PTLOS_AMT GT (-1))) THEN 0 ELSE
                           (TLOSVAR/PTLOS_AMT) * 100;


-* Lost Savings Pct

COMPUTE CDLOSP/D10 = IF ((CDTOTAMT LT 1) AND (CDTOTAMT GT (-1))) THEN 0 ELSE
                        (CDM1LOS_AMT/CDTOTAMT) * 100;
COMPUTE PDLOSP/D10 = IF ((PDTOTAMT LT 1) AND (PDTOTAMT GT (-1))) THEN 0 ELSE
                        (PDM1LOS_AMT/PDTOTAMT) * 100;                        
COMPUTE DLOSPCT/D10 = CDLOSP - PDLOSP;
COMPUTE DLSTVPCT/D6.2 = IF ((PDLOSP LT 1) AND (PDLOSP GT (-1))) THEN 0 ELSE
                        (DLOSPCT/PDLOSP) * 100;  


COMPUTE CILOSP/D10 = IF ((CITOTAMT LT 1) AND (CITOTAMT GT (-1))) THEN 0 ELSE
                        (CIM1LOS_AMT/CITOTAMT) * 100;
COMPUTE PILOSP/D10 = IF ((PITOTAMT LT 1) AND (PITOTAMT GT (-1))) THEN 0 ELSE
                        (PIM1LOS_AMT/PITOTAMT) * 100;                        
COMPUTE ILOSPCT/D10 = CILOSP - PILOSP;
COMPUTE ILSTVPCT/D6.2 = IF ((PILOSP LT 1) AND (PILOSP GT (-1))) THEN 0 ELSE
                        (ILOSPCT/PILOSP) * 100;  

COMPUTE CTLOSP/D10 = IF ((CTOTAMT LT 1) AND (CTOTAMT GT (-1))) THEN 0 ELSE
                        (CTLOS_AMT/CTOTAMT) * 100;
COMPUTE PTLOSP/D10 = IF ((PTOTAMT LT 1) AND (PTOTAMT GT (-1))) THEN 0 ELSE
                        (PTLOS_AMT/PTOTAMT) * 100;                        
COMPUTE TLOSPCT/D10 = CTLOSP - PTLOSP;
COMPUTE TLSTVPCT/D6.2 = IF ((PTLOSP LT 1) AND (PTLOSP GT (-1))) THEN 0 ELSE
                        (TLOSPCT/PTLOSP) * 100;  


                    
-* Contract Savings
 
COMPUTE DVASPCT/D10 =  CDM1VAS_AMT - PDM1VAS_AMT;
COMPUTE DVASVPCT/D6.2 = IF ((PDM1VAS_AMT LT 1) AND (PDM1VAS_AMT GT (-1))) THEN 0 ELSE
                        (DVASPCT/PDM1VAS_AMT) * 100;  
COMPUTE IVASPCT/D10 = CIM1VAS_AMT - PIM1VAS_AMT;
COMPUTE IVASVPCT/D6.2 = IF ((PIM1VAS_AMT LT 1) AND (PIM1VAS_AMT GT (-1))) THEN 0 ELSE
                        (IVASPCT/PIM1VAS_AMT) * 100;  
COMPUTE CTVAS_AMT/D10 = CDM1VAS_AMT + CIM1VAS_AMT;
COMPUTE PTVAS_AMT/D10 = PDM1VAS_AMT + PIM1VAS_AMT;
COMPUTE TVASPCT/D10 =  CTVAS_AMT - PTVAS_AMT;
COMPUTE TVASVPCT/D6.2 = IF ((PTVAS_AMT LT 1) AND (PTVAS_AMT GT (-1))) THEN 0 ELSE
                        (TVASPCT/PTVAS_AMT) * 100; 



-*YTD Air Volume
COMPUTE CDYTOTAMT/D10 = CDY1NET_AMT + CDY1TAX_AMT;
COMPUTE PDYTOTAMT/D10 = PDY1NET_AMT + PDY1TAX_AMT;
COMPUTE CIYTOTAMT/D10 = CIY1NET_AMT + CIY1TAX_AMT;
COMPUTE PIYTOTAMT/D10 = PIY1NET_AMT + PIY1TAX_AMT;
COMPUTE CYTOTAMT/D10 = CDYTOTAMT + CIYTOTAMT;
COMPUTE PYTOTAMT/D10 = PDYTOTAMT + PIYTOTAMT;
COMPUTE DYTOTVAR/D10 = CDYTOTAMT - PDYTOTAMT; 
COMPUTE DYTOTVPCT/D6.2= IF ((PDYTOTAMT LT 1) AND (PDYTOTAMT GT (-1))) THEN 0 ELSE
                           (DYTOTVAR/PDYTOTAMT) * 100;
COMPUTE IYTOTVAR/D10 = CIYTOTAMT - PIYTOTAMT; 
COMPUTE IYTOTVPCT/D6.2= IF ((PIYTOTAMT LT 1) AND (PIYTOTAMT GT (-1))) THEN 0 ELSE
                           (IYTOTVAR/PIYTOTAMT) * 100;
COMPUTE TYTOTVAR/D10.2=  CYTOTAMT -  PYTOTAMT;
COMPUTE TYTOTVPCT/D6.2 = IF ((PYTOTAMT LT 1) AND (PYTOTAMT GT (-1))) THEN 0 ELSE
                  (TYTOTVAR/PYTOTAMT) * 100;
                  
-*YTD Taxes

COMPUTE DYTAXVAR/D10 = CDY1TAX_AMT - PDY1TAX_AMT; 
COMPUTE DYTAXVPCT/D6.2= IF ((PDY1TAX_AMT LT 1) AND (PDY1TAX_AMT GT (-1))) THEN 0 ELSE
                           (DYTAXVAR/PDY1TAX_AMT) * 100;
COMPUTE IYTAXVAR/D10 = CIY1TAX_AMT - PIY1TAX_AMT; 
COMPUTE IYTAXVPCT/D6.2= IF ((PIY1TAX_AMT LT 1) AND (PIY1TAX_AMT GT (-1))) THEN 0 ELSE
                           (IYTAXVAR/PIY1TAX_AMT) * 100;
COMPUTE TYCTAX/D10 =  CDY1TAX_AMT +  CIY1TAX_AMT;
COMPUTE TYPTAX/D10 =  PDY1TAX_AMT + PIY1TAX_AMT;
COMPUTE TYTAXVAR/D10 =  TYCTAX -  TYPTAX;
COMPUTE TYTAXVPCT/D6.2 = IF ((TYPTAX LT 1) AND (TYPTAX GT (-1))) THEN 0 ELSE
                  (TYTAXVAR/TYPTAX) * 100;                  
-* YTD Net Volume

COMPUTE DYNETVAR/D10= CDY1NET_AMT - PDY1NET_AMT;
COMPUTE DYNETVPCT/D6.2 =IF ((PDY1NET_AMT LT 1) AND (PDY1NET_AMT GT (-1))) THEN 0 ELSE
                           (DYNETVAR/PDY1NET_AMT) * 100;
COMPUTE IYNETVAR/D10= CIY1NET_AMT - PIY1NET_AMT;
COMPUTE IYNETVPCT/D6.2 =IF ((PIY1NET_AMT LT 1) AND (PIY1NET_AMT GT (-1))) THEN 0 ELSE
                           (IYNETVAR/PIY1NET_AMT) * 100;
COMPUTE CYNETAMT/D10 = CDY1NET_AMT + CIY1NET_AMT;
COMPUTE PYNETAMT/D10 = PDY1NET_AMT + PIY1NET_AMT;
COMPUTE TYNETVAR/D10 = CYNETAMT - PYNETAMT;
COMPUTE TYNETVPCT/D6.2= IF ((PYNETAMT LT 1) AND (PYNETAMT GT (-1))) THEN 0 ELSE
                           (TYNETVAR/PYNETAMT) * 100;
-* YTD Air Fees

COMPUTE DYFEEVAR/D10 = CDY1AIR_FEE - PDY1AIR_FEE;
COMPUTE DYFEEVPCT/D6.2 = IF ((PDY1AIR_FEE LT 1) AND (PDY1AIR_FEE GT (-1))) THEN 0 ELSE
                           (DYFEEVAR/PDY1AIR_FEE) * 100;
COMPUTE IYFEEVAR/D10 = CIY1AIR_FEE - PIY1AIR_FEE;
COMPUTE IYFEEVPCT/D6.2 = IF ((PIY1AIR_FEE LT 1) AND (PIY1AIR_FEE GT (-1))) THEN 0 ELSE
                           (IYFEEVAR/PIY1AIR_FEE) * 100;
COMPUTE CYTAIR_FEE/D10 = CDY1AIR_FEE + CIY1AIR_FEE;
COMPUTE PYTAIR_FEE/D10 = PDY1AIR_FEE + PIY1AIR_FEE;
COMPUTE TYFEEVAR/D10 = CYTAIR_FEE - PYTAIR_FEE;
COMPUTE TYFEEVPCT/D6.2 = IF ((PYTAIR_FEE LT 1) AND (PYTAIR_FEE GT (-1))) THEN 0 ELSE
                           (TYFEEVAR/PYTAIR_FEE) * 100;

-* YTD Tickets Issued

COMPUTE DYTKTVAR/D10 = CDY1TKT_ISS - PDY1TKT_ISS;
COMPUTE DYTKTVPCT/D6.2 = IF ((PDY1TKT_ISS LT 1) AND (PDY1TKT_ISS GT (-1))) THEN 0 ELSE
                           (DYTKTVAR/PDY1TKT_ISS) * 100;
COMPUTE IYTKTVAR/D10 = CIY1TKT_ISS - PIY1TKT_ISS;
COMPUTE IYTKTVPCT/D6.2 = IF ((PIY1TKT_ISS LT 1) AND (PIY1TKT_ISS GT (-1))) THEN 0 ELSE
                           (IYTKTVAR/PIY1TKT_ISS) * 100;  
COMPUTE CYTTKT_ISS/D10 = CDY1TKT_ISS + CIY1TKT_ISS;
COMPUTE PYTTKT_ISS/D10 = PDY1TKT_ISS + PIY1TKT_ISS;
COMPUTE TYTKTVAR/D10 = CYTTKT_ISS - PYTTKT_ISS;
COMPUTE TYTKTVPCT/D6.2 = IF ((PYTTKT_ISS LT 1) AND (PYTTKT_ISS GT (-1))) THEN 0 ELSE
                           (TYTKTVAR/PYTTKT_ISS) * 100;  

-* YTD Full Refunds

COMPUTE DYREFVAR/D10 = CDY1REF_ISS - PDY1REF_ISS;
COMPUTE DYREFVPCT/D6.2 = IF ((PDY1REF_ISS LT 1) AND (PDY1REF_ISS GT (-1))) THEN 0 ELSE
                           (DYREFVAR/PDY1REF_ISS) * 100; 
COMPUTE IYREFVAR/D10 = CIY1REF_ISS - PIY1REF_ISS;
COMPUTE IYREFVPCT/D6.2 = IF ((PIY1REF_ISS LT 1) AND (PIY1REF_ISS GT (-1))) THEN 0 ELSE
                           (IYREFVAR/PIY1REF_ISS) * 100;
COMPUTE CYTREF_ISS/D10 = CDY1REF_ISS + CIY1REF_ISS;
COMPUTE PYTREF_ISS/D10 = PDY1REF_ISS + PIY1REF_ISS;
COMPUTE TYREFVAR/D10 = CYTREF_ISS - PYTREF_ISS;
COMPUTE TYREFVPCT/D6.2 = IF ((PYTREF_ISS LT 1) AND (PYTREF_ISS GT (-1))) THEN 0 ELSE
                           (TYREFVAR/PYTREF_ISS) * 100;  
                           
-* YTD Tickets Voided

COMPUTE DYVODVAR/D10 = CDY1VOD_ISS - PDY1VOD_ISS;
COMPUTE DYVODVPCT/D6.2 = IF ((PDY1VOD_ISS LT 1) AND (PDY1VOD_ISS GT (-1))) THEN 0 ELSE
                           (DYVODVAR/PDY1VOD_ISS) * 100;
COMPUTE IYVODVAR/D10 = CIY1VOD_ISS - PIY1VOD_ISS;
COMPUTE IYVODVPCT/D6.2 = IF ((PIY1VOD_ISS LT 1) AND (PIY1VOD_ISS GT (-1))) THEN 0 ELSE
                           (IYVODVAR/PIY1VOD_ISS) * 100;
COMPUTE CYTVOD_ISS/D10 = CDY1VOD_ISS + CIY1VOD_ISS;
COMPUTE PYTVOD_ISS/D10 = PDY1VOD_ISS + PIY1VOD_ISS;
COMPUTE TYVODVAR/D10 = CYTVOD_ISS - PYTVOD_ISS;
COMPUTE TYVODVPCT/D6.2 = IF ((PYTVOD_ISS LT 1) AND (PYTVOD_ISS GT (-1))) THEN 0 ELSE
                           (TYVODVAR/PYTVOD_ISS) * 100;  
                           
-* YTD Full Exchanges

COMPUTE DYEXGVAR/D10 = CDY1EXG_ISS - PDY1EXG_ISS;
COMPUTE DYEXGVPCT/D6.2 = IF ((PDY1EXG_ISS LT 1) AND (PDY1EXG_ISS GT (-1))) THEN 0 ELSE
                           (DYEXGVAR/PDY1EXG_ISS) * 100;
COMPUTE IYEXGVAR/D10 = CIY1EXG_ISS - PIY1EXG_ISS;
COMPUTE IYEXGVPCT/D6.2 = IF ((PIY1EXG_ISS LT 1) AND (PIY1EXG_ISS GT (-1))) THEN 0 ELSE
                           (IYEXGVAR/PIY1EXG_ISS) * 100;
COMPUTE CYTEXG_ISS/D10 = CDY1EXG_ISS + CIY1EXG_ISS;
COMPUTE PYTEXG_ISS/D10 = PDY1EXG_ISS + PIY1EXG_ISS;
COMPUTE TYEXGVAR/D10 = CYTEXG_ISS - PYTEXG_ISS;
COMPUTE TYEXGVPCT/D6.2 = IF ((PYTEXG_ISS LT 1) AND (PYTEXG_ISS GT (-1))) THEN 0 ELSE
                           (TYEXGVAR/PYTEXG_ISS) * 100;  
                           
-*YTD Net Tickets
COMPUTE CYDNTTKT/D10 = CDY1TKT_ISS - CDY1VOD_ISS - CDY1REF_ISS - CDY1EXG_ISS;
COMPUTE PYDNTTKT/D10 = PDY1TKT_ISS - PDY1VOD_ISS - PDY1REF_ISS - PDY1EXG_ISS;
COMPUTE DYNTKTVAR/D10 = CYDNTTKT - PYDNTTKT;
COMPUTE DYNTKTVPCT/D6.2 = IF ((PYDNTTKT LT 1) AND (PYDNTTKT GT (-1))) THEN 0 ELSE
                           (DYNTKTVAR/PYDNTTKT) * 100;
COMPUTE CYINTTKT/D10 = CIY1TKT_ISS - CIY1VOD_ISS - CIY1REF_ISS - CIY1EXG_ISS;
COMPUTE PYINTTKT/D10 = PIY1TKT_ISS - PIY1VOD_ISS - PIY1REF_ISS - PIY1EXG_ISS;
COMPUTE IYNTKTVAR/D10 = CYINTTKT - PYINTTKT;
COMPUTE IYNTKTVPCT/D6.2 = IF ((PYINTTKT LT 1) AND (PYINTTKT GT (-1))) THEN 0 ELSE
                           (IYNTKTVAR/PYINTTKT) * 100;
COMPUTE CYTNTTKT/D10 = CYDNTTKT + CYINTTKT;
COMPUTE PYTNTTKT/D10 = PYDNTTKT + PYINTTKT;
COMPUTE CYTNTKTVAR/D10 = CYTNTTKT - PYTNTTKT;
COMPUTE CYTTKTVPCT/D6.2 = IF ((PYTNTTKT LT 1) AND (PYTNTTKT GT (-1))) THEN 0 ELSE
                           (CYTNTKTVAR/PYTNTTKT) * 100;

-* YTD Average ticket cost

COMPUTE CYDATP/D10.2 = IF ((CYDNTTKT LT 1) AND (CYDNTTKT GT (-1))) THEN 0 ELSE
                           (CDYTOTAMT/CYDNTTKT) ;
COMPUTE PYDATP/D10.2 = IF ((PYDNTTKT LT 1) AND (PYDNTTKT GT (-1))) THEN 0 ELSE
                           (PDYTOTAMT/PYDNTTKT) ;   
COMPUTE DYATPVAR/D10 = CYDATP - PYDATP;
COMPUTE DYATPVPCT/D6.2 = IF ((PYDATP LT 1) AND (PYDATP GT (-1))) THEN 0 ELSE
                           (DYATPVAR/PYDATP) * 100 ;                           
COMPUTE CYIATP/D10.2 = IF ((CYINTTKT LT 1) AND (CYINTTKT GT (-1))) THEN 0 ELSE
                           (CIYTOTAMT/CYINTTKT)  ;
COMPUTE PYIATP/D10.2 = IF ((PYINTTKT LT 1) AND (PYINTTKT GT (-1))) THEN 0 ELSE
                           (PIYTOTAMT/PYINTTKT);   
COMPUTE IYATPVAR/D10 = CYIATP - PYIATP;
COMPUTE IYATPVPCT/D6.2 = IF ((PYIATP LT 1) AND (PYIATP GT (-1))) THEN 0 ELSE
                           (IYATPVAR/PYIATP) * 100;               
COMPUTE CYTATP/D10.2 = IF ((CYTNTTKT LT 1) AND (CYTNTTKT GT (-1))) THEN 0 ELSE
                           (CYTOTAMT/CYTNTTKT)  ;
COMPUTE PYTATP/D10.2 = IF ((PYTNTTKT LT 1) AND (PYTNTTKT GT (-1))) THEN 0 ELSE
                           (PYTOTAMT/PYTNTTKT)  ;   
COMPUTE TYATPVAR/D10 = CYTATP - PYTATP;
COMPUTE TYATPVPCT/D6.2 = IF ((PYTATP LT 1) AND (PYTATP GT (-1))) THEN 0 ELSE
                           (TYATPVAR/PYTATP) * 100;     

-*YTD Lost Savings
 

COMPUTE DYLOSVAR/D10 = CDY1LOS_AMT - PDY1LOS_AMT; 
COMPUTE DYLOSVPCT/D6.2= IF ((PDY1LOS_AMT LT 1) AND (PDY1LOS_AMT GT (-1))) THEN 0 ELSE
                           (DYLOSVAR/PDY1LOS_AMT) * 100;
COMPUTE IYLOSVAR/D10 = CIY1LOS_AMT - PIY1LOS_AMT; 
COMPUTE IYLOSVPCT/D6.2= IF ((PIY1LOS_AMT LT 1) AND (PIY1LOS_AMT GT (-1))) THEN 0 ELSE
                           (IYLOSVAR/PIY1LOS_AMT) * 100;
COMPUTE CYTLOS_AMT/D10 = CDY1LOS_AMT + CIY1LOS_AMT;
COMPUTE PYTLOS_AMT/D10 = PDY1LOS_AMT + PIY1LOS_AMT;
COMPUTE TYLOSVAR/D10 = CYTLOS_AMT - PYTLOS_AMT; 
COMPUTE TYLOSVPCT/D6.2= IF ((PYTLOS_AMT LT 1) AND (PYTLOS_AMT GT (-1))) THEN 0 ELSE
                           (TYLOSVAR/PYTLOS_AMT) * 100;

-* YTD Lost Savings Pct

COMPUTE CYDLOSP/D10 = IF ((CDYTOTAMT LT 1) AND (CDYTOTAMT GT (-1))) THEN 0 ELSE
                        (CDY1LOS_AMT/CDYTOTAMT) * 100;
COMPUTE PYDLOSP/D10 = IF ((PDYTOTAMT LT 1) AND (PDYTOTAMT GT (-1))) THEN 0 ELSE
                        (PDY1LOS_AMT/PDYTOTAMT) * 100;                        
COMPUTE DYLOSPCT/D10 = CYDLOSP - PYDLOSP;
COMPUTE DYLSTVPCT/D6.2 = IF ((PYDLOSP LT 1) AND (PYDLOSP GT (-1))) THEN 0 ELSE
                        (DYLOSPCT/PYDLOSP) * 100;  


COMPUTE CYILOSP/D10 = IF ((CIYTOTAMT LT 1) AND (CIYTOTAMT GT (-1))) THEN 0 ELSE
                        (CIY1LOS_AMT/CIYTOTAMT) * 100;
COMPUTE PYILOSP/D10 = IF ((PIYTOTAMT LT 1) AND (PIYTOTAMT GT (-1))) THEN 0 ELSE
                        (PIY1LOS_AMT/PIYTOTAMT) * 100;                        
COMPUTE IYLOSPCT/D10 = CYILOSP - PYILOSP;
COMPUTE IYLSTVPCT/D6.2 = IF ((PYILOSP LT 1) AND (PYILOSP GT (-1))) THEN 0 ELSE
                        (IYLOSPCT/PYILOSP) * 100;  

COMPUTE CYTLOSP/D10 = IF ((CYTOTAMT LT 1) AND (CYTOTAMT GT (-1))) THEN 0 ELSE
                        (CYTLOS_AMT/CYTOTAMT) * 100;
COMPUTE PYTLOSP/D10 = IF ((PYTOTAMT LT 1) AND (PYTOTAMT GT (-1))) THEN 0 ELSE
                        (PYTLOS_AMT/PYTOTAMT) * 100;                        
COMPUTE TYLOSPCT/D10 = CYTLOSP - PYTLOSP;
COMPUTE TYLSTVPCT/D6.2 = IF ((PYTLOSP LT 1) AND (PYTLOSP GT (-1))) THEN 0 ELSE                           
                            (TYLOSPCT/PYTLOSP) * 100; 
-* YTD Contract Savings
 
COMPUTE DYVASPCT/D10 =  CDY1VAS_AMT - PDY1VAS_AMT;
COMPUTE DYVASVPCT/D6.2 = IF ((PDY1VAS_AMT LT 1) AND (PDY1VAS_AMT GT (-1))) THEN 0 ELSE
                        (DYVASPCT/PDY1VAS_AMT) * 100;  
COMPUTE IYVASPCT/D10 = CIY1VAS_AMT - PIY1VAS_AMT;
COMPUTE IYVASVPCT/D6.2 = IF ((PIY1VAS_AMT LT 1) AND (PIY1VAS_AMT GT (-1))) THEN 0 ELSE
                        (IYVASPCT/PIY1VAS_AMT) * 100;  
COMPUTE CYTVAS_AMT/D10 = CDY1VAS_AMT + CIY1VAS_AMT;
COMPUTE PYTVAS_AMT/D10 = PDY1VAS_AMT + PIY1VAS_AMT;
COMPUTE TYVASPCT/D10 =  CYTVAS_AMT - PYTVAS_AMT;
COMPUTE TYVASVPCT/D6.2 = IF ((PYTVAS_AMT LT 1) AND (PYTVAS_AMT GT (-1))) THEN 0 ELSE
                        (TYVASPCT/PYTVAS_AMT) * 100; 
                        


BY FLAG
ON TABLE HOLD AS TKT_TYP2
END
-RUN

-* Air Volume
DEFINE FILE TKT_TYP2
CATEGORY/A30 = 'Air';
CAT_ORDER/I2 = 1;
ROW_LABEL/A20 = 'Air Volume';
ROW_ORDER/I2 = 1;
END
TABLE FILE TKT_TYP2
PRINT CATEGORY/A30  CAT_ORDER/I2  ROW_ORDER/I2   ROW_LABEL/A20  
CDTOTAMT/D10 AS 'DOM_CURR' 
PDTOTAMT/D10 AS 'DOM_PRIOR' DTOTVAR/D10 AS 'DOM_VAR_VAL' DTOTVPCT/D6  AS 'DOM_VAR_PCT' 
CITOTAMT/D10 AS 'INT_CURR' PITOTAMT/D10 AS 'INT_PRIOR'
ITOTVAR/D10 AS 'INT_VAR_VAL'  ITOTVPCT/D6  AS 'INT_VAR_PCT'
CTOTAMT/D10 AS 'DI_CURR' PTOTAMT/D10 AS 'DI_PRIOR' TTOTVAR/D10 AS 'DI_VAR_VAL'
TTOTVPCT/D6  AS 'DI_VAR_PCT'
BY FLAG NOPRINT
ON TABLE HOLD AS TOTVOL
END
-RUN

TABLE FILE TOTVOL
PRINT CATEGORY  AND CAT_ORDER AND ROW_ORDER AND ROW_LABEL AND DOM_CURR
AND DOM_PRIOR AND DOM_VAR_VAL AND DOM_VAR_PCT AND INT_CURR AND INT_PRIOR
AND INT_VAR_VAL AND INT_VAR_PCT AND DI_CURR AND DI_PRIOR AND DI_VAR_VAL AND DI_VAR_PCT
ON TABLE HOLD AS TOTVOL1
END
MODIFY FILE TC2_MAIN
FIXFORM FROM TOTVOL1
MATCH CATEGORY ROW_LABEL CAT_ORDER ROW_ORDER
ON MATCH UPDATE DOM_CURR DOM_PRIOR DOM_VAR_VAL DOM_VAR_PCT INT_CURR INT_PRIOR INT_VAR_VAL INT_VAR_PCT DI_CURR DI_PRIOR DI_VAR_VAL DI_VAR_PCT
ON NOMATCH INCLUDE
DATA ON TOTVOL1
END
-RUN

-*Taxes

DEFINE FILE TKT_TYP2
CATEGORY/A30 = 'Air';
CAT_ORDER/I2 = 1;
ROW_LABEL/A20 = 'Taxes/Charges';
ROW_ORDER/I2 = 2;
END
TABLE FILE TKT_TYP2
PRINT CATEGORY/A30  CAT_ORDER/I2  ROW_ORDER/I2   ROW_LABEL/A20  
CDM1TAX_AMT/D10 AS 'DOM_CURR' 
PDM1TAX_AMT/D10 AS 'DOM_PRIOR' DTAXVAR/D10 AS 'DOM_VAR_VAL' DTAXVPCT/D6  AS 'DOM_VAR_PCT' 
CIM1TAX_AMT/D10 AS 'INT_CURR' PIM1TAX_AMT/D10 AS 'INT_PRIOR'
ITAXVAR/D10 AS 'INT_VAR_VAL'  ITAXVPCT/D6  AS 'INT_VAR_PCT'
TCTAX/D10 AS 'DI_CURR' TPTAX/D10 AS 'DI_PRIOR' TTAXVAR/D10 AS 'DI_VAR_VAL'
TTAXVPCT/D6  AS 'DI_VAR_PCT'
BY FLAG NOPRINT
ON TABLE HOLD AS TAX
END
-RUN

TABLE FILE TAX
PRINT CATEGORY  AND CAT_ORDER AND ROW_ORDER AND ROW_LABEL AND DOM_CURR
AND DOM_PRIOR AND DOM_VAR_VAL AND DOM_VAR_PCT AND INT_CURR AND INT_PRIOR
AND INT_VAR_VAL AND INT_VAR_PCT AND DI_CURR AND DI_PRIOR AND DI_VAR_VAL AND DI_VAR_PCT
ON TABLE HOLD AS TAX1
END
MODIFY FILE TC2_MAIN
FIXFORM FROM TAX1
MATCH CATEGORY ROW_LABEL CAT_ORDER ROW_ORDER
ON MATCH UPDATE DOM_CURR DOM_PRIOR DOM_VAR_VAL DOM_VAR_PCT INT_CURR INT_PRIOR INT_VAR_VAL INT_VAR_PCT DI_CURR DI_PRIOR DI_VAR_VAL DI_VAR_PCT
ON NOMATCH INCLUDE
DATA ON TAX1
END
-RUN

-* Net Volume

DEFINE FILE TKT_TYP2
CATEGORY/A30 = 'Air';
CAT_ORDER/I2 = 1;
ROW_LABEL/A20 = 'Net Volume';
ROW_ORDER/I2 = 3;
END
TABLE FILE TKT_TYP2
PRINT CATEGORY/A30  CAT_ORDER/I2  ROW_ORDER/I2   ROW_LABEL/A20  
CDM1NET_AMT/D10 AS 'DOM_CURR' 
PDM1NET_AMT/D10 AS 'DOM_PRIOR' DNETVAR/D10 AS 'DOM_VAR_VAL' DNETVPCT/D6  AS 'DOM_VAR_PCT' 
CIM1NET_AMT/D10 AS 'INT_CURR' PIM1NET_AMT/D10 AS 'INT_PRIOR'
INETVAR/D10 AS 'INT_VAR_VAL'  INETVPCT/D6  AS 'INT_VAR_PCT'
CNETAMT/D10 AS 'DI_CURR' PNETAMT/D10 AS 'DI_PRIOR' TNETVAR/D10 AS 'DI_VAR_VAL'
TNETVPCT/D6  AS 'DI_VAR_PCT'
BY FLAG NOPRINT
ON TABLE HOLD AS NET
END
-RUN

TABLE FILE NET
PRINT CATEGORY  AND CAT_ORDER AND ROW_ORDER AND ROW_LABEL AND DOM_CURR
AND DOM_PRIOR AND DOM_VAR_VAL AND DOM_VAR_PCT AND INT_CURR AND INT_PRIOR
AND INT_VAR_VAL AND INT_VAR_PCT AND DI_CURR AND DI_PRIOR AND DI_VAR_VAL AND DI_VAR_PCT
ON TABLE HOLD AS NET1
END
MODIFY FILE TC2_MAIN
FIXFORM FROM NET1
MATCH CATEGORY ROW_LABEL CAT_ORDER ROW_ORDER
ON MATCH UPDATE DOM_CURR DOM_PRIOR DOM_VAR_VAL DOM_VAR_PCT INT_CURR INT_PRIOR INT_VAR_VAL INT_VAR_PCT DI_CURR DI_PRIOR DI_VAR_VAL DI_VAR_PCT
ON NOMATCH INCLUDE
DATA ON NET1
END
-RUN


-*Airline Fees
DEFINE FILE TKT_TYP2
CATEGORY/A30 = 'Air';
CAT_ORDER/I2 = 1;
ROW_LABEL/A20 = 'Airline Fees';
ROW_ORDER/I2 = 4;
END

TABLE FILE TKT_TYP2
PRINT CATEGORY/A30  CAT_ORDER/I2  ROW_ORDER/I2   ROW_LABEL/A20  
CDM1AIR_FEE/D10 AS 'DOM_CURR' 
PDM1AIR_FEE/D10 AS 'DOM_PRIOR' DFEEVAR/D10 AS 'DOM_VAR_VAL' DFEEVPCT/D6  AS 'DOM_VAR_PCT' 
CIM1AIR_FEE/D10 AS 'INT_CURR' PIM1AIR_FEE/D10 AS 'INT_PRIOR'
IFEEVAR/D10 AS 'INT_VAR_VAL'  IFEEVPCT/D6  AS 'INT_VAR_PCT'
CTAIR_FEE/D10 AS 'DI_CURR' PTAIR_FEE/D10 AS 'DI_PRIOR' TFEEVAR/D10 AS 'DI_VAR_VAL'
TFEEVPCT/D6  AS 'DI_VAR_PCT'
BY FLAG NOPRINT
ON TABLE HOLD AS FEE
END
-RUN

TABLE FILE FEE
PRINT CATEGORY  AND CAT_ORDER AND ROW_ORDER AND ROW_LABEL AND DOM_CURR
AND DOM_PRIOR AND DOM_VAR_VAL AND DOM_VAR_PCT AND INT_CURR AND INT_PRIOR
AND INT_VAR_VAL AND INT_VAR_PCT AND DI_CURR AND DI_PRIOR AND DI_VAR_VAL AND DI_VAR_PCT
ON TABLE HOLD AS FEE1
END
MODIFY FILE TC2_MAIN
FIXFORM FROM FEE1
MATCH CATEGORY ROW_LABEL CAT_ORDER ROW_ORDER
ON MATCH UPDATE DOM_CURR DOM_PRIOR DOM_VAR_VAL DOM_VAR_PCT INT_CURR INT_PRIOR INT_VAR_VAL INT_VAR_PCT DI_CURR DI_PRIOR DI_VAR_VAL DI_VAR_PCT
ON NOMATCH INCLUDE
DATA ON FEE1
END
-RUN


-* Tickets Issued

DEFINE FILE TKT_TYP2
CATEGORY/A30 = 'Air';
CAT_ORDER/I2 = 1;
ROW_LABEL/A20 = 'Tickets Issued';
ROW_ORDER/I2 = 5;
END
TABLE FILE TKT_TYP2
PRINT CATEGORY/A30  CAT_ORDER/I2  ROW_ORDER/I2   ROW_LABEL/A20  
CDM1TKT_ISS/D10 AS 'DOM_CURR' 
PDM1TKT_ISS/D10 AS 'DOM_PRIOR' DTKTVAR/D10 AS 'DOM_VAR_VAL' DTKTVPCT/D6  AS 'DOM_VAR_PCT' 
CIM1TKT_ISS/D10 AS 'INT_CURR' PIM1TKT_ISS/D10 AS 'INT_PRIOR'
ITKTVAR/D10 AS 'INT_VAR_VAL'  ITKTVPCT/D6  AS 'INT_VAR_PCT'
CTTKT_ISS/D10 AS 'DI_CURR' PTTKT_ISS/D10 AS 'DI_PRIOR' TTKTVAR/D10 AS 'DI_VAR_VAL'
TTKTVPCT/D6  AS 'DI_VAR_PCT'
BY FLAG NOPRINT
ON TABLE HOLD AS TKTISS
END
-RUN

TABLE FILE TKTISS
PRINT CATEGORY  AND CAT_ORDER AND ROW_ORDER AND ROW_LABEL AND DOM_CURR
AND DOM_PRIOR AND DOM_VAR_VAL AND DOM_VAR_PCT AND INT_CURR AND INT_PRIOR
AND INT_VAR_VAL AND INT_VAR_PCT AND DI_CURR AND DI_PRIOR AND DI_VAR_VAL AND DI_VAR_PCT
ON TABLE HOLD AS TKTISS1
END
MODIFY FILE TC2_MAIN
FIXFORM FROM TKTISS1
MATCH CATEGORY ROW_LABEL CAT_ORDER ROW_ORDER
ON MATCH UPDATE DOM_CURR DOM_PRIOR DOM_VAR_VAL DOM_VAR_PCT INT_CURR INT_PRIOR INT_VAR_VAL INT_VAR_PCT DI_CURR DI_PRIOR DI_VAR_VAL DI_VAR_PCT
ON NOMATCH INCLUDE
DATA ON TKTISS1
END
-RUN
 


-* Refunds

DEFINE FILE TKT_TYP2
CATEGORY/A30 = 'Air';
CAT_ORDER/I2 = 1;
ROW_LABEL/A20 = 'Full Refunds';
ROW_ORDER/I2 = 6;
END

TABLE FILE TKT_TYP2
PRINT CATEGORY/A30  CAT_ORDER/I2  ROW_ORDER/I2   ROW_LABEL/A20  
 CDM1REF_ISS/D10 AS 'DOM_CURR' 
PDM1REF_ISS/D10 AS 'DOM_PRIOR' DREFVAR/D10 AS 'DOM_VAR_VAL' DREFVPCT/D6  AS 'DOM_VAR_PCT' 
CIM1REF_ISS/D10 AS 'INT_CURR' PIM1REF_ISS/D10 AS 'INT_PRIOR'
IREFVAR/D10 AS 'INT_VAR_VAL'  IREFVPCT/D6  AS 'INT_VAR_PCT'
CTREF_ISS/D10 AS 'DI_CURR' PTREF_ISS/D10 AS 'DI_PRIOR' TREFVAR/D10 AS 'DI_VAR_VAL'
TREFVPCT/D6  AS 'DI_VAR_PCT'
BY FLAG NOPRINT
ON TABLE HOLD AS FREFND
END
-RUN

TABLE FILE FREFND
PRINT CATEGORY  AND CAT_ORDER AND ROW_ORDER AND ROW_LABEL AND DOM_CURR
AND DOM_PRIOR AND DOM_VAR_VAL AND DOM_VAR_PCT AND INT_CURR AND INT_PRIOR
AND INT_VAR_VAL AND INT_VAR_PCT AND DI_CURR AND DI_PRIOR AND DI_VAR_VAL AND DI_VAR_PCT
ON TABLE HOLD AS FREFND1
END
MODIFY FILE TC2_MAIN
FIXFORM FROM FREFND1
MATCH CATEGORY ROW_LABEL CAT_ORDER ROW_ORDER
ON MATCH UPDATE DOM_CURR DOM_PRIOR DOM_VAR_VAL DOM_VAR_PCT INT_CURR INT_PRIOR INT_VAR_VAL INT_VAR_PCT DI_CURR DI_PRIOR DI_VAR_VAL DI_VAR_PCT
ON NOMATCH INCLUDE
DATA ON FREFND1
END
-RUN


-* Voids

DEFINE FILE TKT_TYP2
CATEGORY/A30 = 'Air';
CAT_ORDER/I2 = 1;
ROW_LABEL/A20 = 'Tickets Voided';
ROW_ORDER/I2 = 7;
END
TABLE FILE TKT_TYP2
PRINT CATEGORY/A30  CAT_ORDER/I2  ROW_ORDER/I2   ROW_LABEL/A20  
CDM1VOD_ISS/D10 AS 'DOM_CURR' 
PDM1VOD_ISS/D10 AS 'DOM_PRIOR' DVODVAR/D10 AS 'DOM_VAR_VAL' DVODVPCT/D6  AS 'DOM_VAR_PCT' 
CIM1VOD_ISS/D10 AS 'INT_CURR' PIM1VOD_ISS/D10 AS 'INT_PRIOR'
IVODVAR/D10 AS 'INT_VAR_VAL'  IVODVPCT/D6  AS 'INT_VAR_PCT'
CTVOD_ISS/D10 AS 'DI_CURR' PTVOD_ISS/D10 AS 'DI_PRIOR' TVODVAR/D10 AS 'DI_VAR_VAL'
TVODVPCT/D6  AS 'DI_VAR_PCT'
BY FLAG NOPRINT
ON TABLE HOLD AS VOIDS
END
-RUN

TABLE FILE VOIDS
PRINT CATEGORY  AND CAT_ORDER AND ROW_ORDER AND ROW_LABEL AND DOM_CURR
AND DOM_PRIOR AND DOM_VAR_VAL AND DOM_VAR_PCT AND INT_CURR AND INT_PRIOR
AND INT_VAR_VAL AND INT_VAR_PCT AND DI_CURR AND DI_PRIOR AND DI_VAR_VAL AND DI_VAR_PCT
ON TABLE HOLD AS VOIDS1
END
MODIFY FILE TC2_MAIN
FIXFORM FROM VOIDS1
MATCH CATEGORY ROW_LABEL CAT_ORDER ROW_ORDER
ON MATCH UPDATE DOM_CURR DOM_PRIOR DOM_VAR_VAL DOM_VAR_PCT INT_CURR INT_PRIOR INT_VAR_VAL INT_VAR_PCT DI_CURR DI_PRIOR DI_VAR_VAL DI_VAR_PCT
ON NOMATCH INCLUDE
DATA ON VOIDS1
END
-RUN



-* Full Exchanges

DEFINE FILE TKT_TYP2
CATEGORY/A30 = 'Air';
CAT_ORDER/I2 = 1;
ROW_LABEL/A20 = 'Full Exchanges';
ROW_ORDER/I2 = 8;
END
TABLE FILE TKT_TYP2
PRINT CATEGORY/A30  CAT_ORDER/I2  ROW_ORDER/I2   ROW_LABEL/A20  
 CDM1EXG_ISS/D10 AS 'DOM_CURR' 
PDM1EXG_ISS/D10 AS 'DOM_PRIOR' DEXGVAR/D10 AS 'DOM_VAR_VAL' DEXGVPCT/D6  AS 'DOM_VAR_PCT' 
CIM1EXG_ISS/D10 AS 'INT_CURR' PIM1EXG_ISS/D10 AS 'INT_PRIOR'
IEXGVAR/D10 AS 'INT_VAR_VAL'  IEXGVPCT/D6  AS 'INT_VAR_PCT'
CTEXG_ISS/D10 AS 'DI_CURR' PTEXG_ISS/D10 AS 'DI_PRIOR' TEXGVAR/D10 AS 'DI_VAR_VAL'
TEXGVPCT/D6  AS 'DI_VAR_PCT'
BY FLAG NOPRINT
ON TABLE HOLD AS FEXCHG
END
-RUN

TABLE FILE FEXCHG
PRINT CATEGORY  AND CAT_ORDER AND ROW_ORDER AND ROW_LABEL AND DOM_CURR
AND DOM_PRIOR AND DOM_VAR_VAL AND DOM_VAR_PCT AND INT_CURR AND INT_PRIOR
AND INT_VAR_VAL AND INT_VAR_PCT AND DI_CURR AND DI_PRIOR AND DI_VAR_VAL AND DI_VAR_PCT
ON TABLE HOLD AS FEXCHG1
END
MODIFY FILE TC2_MAIN
FIXFORM FROM FEXCHG1
MATCH CATEGORY ROW_LABEL CAT_ORDER ROW_ORDER
ON MATCH UPDATE DOM_CURR DOM_PRIOR DOM_VAR_VAL DOM_VAR_PCT INT_CURR INT_PRIOR INT_VAR_VAL INT_VAR_PCT DI_CURR DI_PRIOR DI_VAR_VAL DI_VAR_PCT
ON NOMATCH INCLUDE
DATA ON FEXCHG1
END
-RUN


 
-* Net Tickets
 
DEFINE FILE TKT_TYP2
CATEGORY/A30 = 'Air';
CAT_ORDER/I2 = 1;
ROW_LABEL/A20 = 'Net Tickets';
ROW_ORDER/I2 = 9;
END
TABLE FILE TKT_TYP2
PRINT CATEGORY/A30  CAT_ORDER/I2  ROW_ORDER/I2   ROW_LABEL/A20  
 CDNTTKT/D10 AS 'DOM_CURR' 
PDNTTKT/D10 AS 'DOM_PRIOR' DNTKTVAR/D10 AS 'DOM_VAR_VAL' DNTKTVPCT/D6  AS 'DOM_VAR_PCT' 
CINTTKT/D10 AS 'INT_CURR' PINTTKT/D10 AS 'INT_PRIOR'
INTKTVAR/D10 AS 'INT_VAR_VAL'  INTKTVPCT/D6  AS 'INT_VAR_PCT'
CTNTTKT/D10 AS 'DI_CURR' PTNTTKT/D10 AS 'DI_PRIOR' CTNTKTVAR/D10 AS 'DI_VAR_VAL'
CTTKTVPCT/D6  AS 'DI_VAR_PCT'
BY FLAG NOPRINT
ON TABLE HOLD AS NETTKT
END
-RUN

TABLE FILE NETTKT
PRINT CATEGORY  AND CAT_ORDER AND ROW_ORDER AND ROW_LABEL AND DOM_CURR
AND DOM_PRIOR AND DOM_VAR_VAL AND DOM_VAR_PCT AND INT_CURR AND INT_PRIOR
AND INT_VAR_VAL AND INT_VAR_PCT AND DI_CURR AND DI_PRIOR AND DI_VAR_VAL AND DI_VAR_PCT
ON TABLE HOLD AS NETTKT1
END
MODIFY FILE TC2_MAIN
FIXFORM FROM NETTKT1
MATCH CATEGORY ROW_LABEL CAT_ORDER ROW_ORDER
ON MATCH UPDATE DOM_CURR DOM_PRIOR DOM_VAR_VAL DOM_VAR_PCT INT_CURR INT_PRIOR INT_VAR_VAL INT_VAR_PCT DI_CURR DI_PRIOR DI_VAR_VAL DI_VAR_PCT
ON NOMATCH INCLUDE
DATA ON NETTKT1
END
-RUN



-* Average ticket cost

DEFINE FILE TKT_TYP2
CATEGORY/A30 = 'Air';
CAT_ORDER/I2 = 1;
ROW_LABEL/A20 = 'Average Ticket Cost';
ROW_ORDER/I2 = 10;
END
TABLE FILE TKT_TYP2
PRINT CATEGORY/A30  CAT_ORDER/I2  ROW_ORDER/I2   ROW_LABEL/A20  
 CDATP/D10 AS 'DOM_CURR' 
PDATP/D10 AS 'DOM_PRIOR' DATPVAR/D10 AS 'DOM_VAR_VAL' DATPVPCT/D6  AS 'DOM_VAR_PCT' 
CIATP/D10 AS 'INT_CURR' PIATP/D10 AS 'INT_PRIOR'
IATPVAR/D10 AS 'INT_VAR_VAL'  IATPVPCT/D6  AS 'INT_VAR_PCT'
CTATP/D10 AS 'DI_CURR' PTATP/D10 AS 'DI_PRIOR' TATPVAR/D10 AS 'DI_VAR_VAL'
TATPVPCT/D6  AS 'DI_VAR_PCT'
BY FLAG NOPRINT
ON TABLE HOLD AS ATP
-RUN

TABLE FILE ATP
PRINT CATEGORY  AND CAT_ORDER AND ROW_ORDER AND ROW_LABEL AND DOM_CURR
AND DOM_PRIOR AND DOM_VAR_VAL AND DOM_VAR_PCT AND INT_CURR AND INT_PRIOR
AND INT_VAR_VAL AND INT_VAR_PCT AND DI_CURR AND DI_PRIOR AND DI_VAR_VAL AND DI_VAR_PCT
ON TABLE HOLD AS ATP1
END
MODIFY FILE TC2_MAIN
FIXFORM FROM ATP1
MATCH CATEGORY ROW_LABEL CAT_ORDER ROW_ORDER
ON MATCH UPDATE DOM_CURR DOM_PRIOR DOM_VAR_VAL DOM_VAR_PCT INT_CURR INT_PRIOR INT_VAR_VAL INT_VAR_PCT DI_CURR DI_PRIOR DI_VAR_VAL DI_VAR_PCT
ON NOMATCH INCLUDE
DATA ON ATP1
END
-RUN



-* Perfomance
-* Lost Savings


DEFINE FILE TKT_TYP2
CATEGORY/A30 = 'Performance';
CAT_ORDER/I2 = 2;
ROW_LABEL/A20 = 'Lost Savings';
ROW_ORDER/I2 = 1;
END
TABLE FILE TKT_TYP2
PRINT CATEGORY/A30  CAT_ORDER/I2  ROW_ORDER/I2   ROW_LABEL/A20  
 CDM1LOS_AMT/D10 AS 'DOM_CURR' 
PDM1LOS_AMT/D10 AS 'DOM_PRIOR' DLOSVAR/D10 AS 'DOM_VAR_VAL' DLOSVPCT/D6  AS 'DOM_VAR_PCT' 
CIM1LOS_AMT/D10 AS 'INT_CURR' PIM1LOS_AMT/D10 AS 'INT_PRIOR'
ILOSVAR/D10 AS 'INT_VAR_VAL'  ILOSVPCT/D6  AS 'INT_VAR_PCT'
CTLOS_AMT/D10 AS 'DI_CURR' PTLOS_AMT/D10 AS 'DI_PRIOR' TLOSVAR/D10 AS 'DI_VAR_VAL'
TLOSVPCT/D6  AS 'DI_VAR_PCT'
BY FLAG NOPRINT
ON TABLE HOLD AS LSAV
-RUN

TABLE FILE LSAV
PRINT CATEGORY  AND CAT_ORDER AND ROW_ORDER AND ROW_LABEL AND DOM_CURR
AND DOM_PRIOR AND DOM_VAR_VAL AND DOM_VAR_PCT AND INT_CURR AND INT_PRIOR
AND INT_VAR_VAL AND INT_VAR_PCT AND DI_CURR AND DI_PRIOR AND DI_VAR_VAL AND DI_VAR_PCT
ON TABLE HOLD AS LSAV1
END
MODIFY FILE TC2_MAIN
FIXFORM FROM LSAV1
MATCH CATEGORY ROW_LABEL CAT_ORDER ROW_ORDER
ON MATCH UPDATE DOM_CURR DOM_PRIOR DOM_VAR_VAL DOM_VAR_PCT INT_CURR INT_PRIOR INT_VAR_VAL INT_VAR_PCT DI_CURR DI_PRIOR DI_VAR_VAL DI_VAR_PCT
ON NOMATCH INCLUDE
DATA ON LSAV1
END
-RUN



-* Lost Savings %

DEFINE FILE TKT_TYP2
CATEGORY/A30 = 'Performance';
CAT_ORDER/I2 = 2;
ROW_LABEL/A20 = 'Lost Savings %';
ROW_ORDER/I2 = 2;
END
TABLE FILE TKT_TYP2
PRINT CATEGORY/A30  CAT_ORDER/I2  ROW_ORDER/I2   ROW_LABEL/A20  
 CDLOSP/D10 AS 'DOM_CURR' 
PILOSP/D10 AS 'DOM_PRIOR' DLOSPCT/D10 AS 'DOM_VAR_VAL' DLSTVPCT/D6  AS 'DOM_VAR_PCT' 
CILOSP/D10 AS 'INT_CURR' PILOSP/D10 AS 'INT_PRIOR'
ILOSPCT/D10 AS 'INT_VAR_VAL'  ILSTVPCT/D6  AS 'INT_VAR_PCT'
CTLOSP/D10 AS 'DI_CURR' PTLOSP/D10 AS 'DI_PRIOR' TLOSPCT/D10 AS 'DI_VAR_VAL'
TLSTVPCT/D6  AS 'DI_VAR_PCT'
BY FLAG NOPRINT
ON TABLE HOLD AS LSAVP
-RUN
TABLE FILE LSAVP
PRINT CATEGORY  AND CAT_ORDER AND ROW_ORDER AND ROW_LABEL AND DOM_CURR
AND DOM_PRIOR AND DOM_VAR_VAL AND DOM_VAR_PCT AND INT_CURR AND INT_PRIOR
AND INT_VAR_VAL AND INT_VAR_PCT AND DI_CURR AND DI_PRIOR AND DI_VAR_VAL AND DI_VAR_PCT
ON TABLE HOLD AS LSAVP1
END
MODIFY FILE TC2_MAIN
FIXFORM FROM LSAVP1
MATCH CATEGORY ROW_LABEL CAT_ORDER ROW_ORDER
ON MATCH UPDATE DOM_CURR DOM_PRIOR DOM_VAR_VAL DOM_VAR_PCT INT_CURR INT_PRIOR INT_VAR_VAL INT_VAR_PCT DI_CURR DI_PRIOR DI_VAR_VAL DI_VAR_PCT
ON NOMATCH INCLUDE
DATA ON LSAVP1
END
-RUN



-* Contract Savings

DEFINE FILE TKT_TYP2
CATEGORY/A30 = 'Performance';
CAT_ORDER/I2 = 2;
ROW_LABEL/A20 = 'Contract Savings';
ROW_ORDER/I2 = 3;
END
TABLE FILE TKT_TYP2
PRINT CATEGORY/A30  CAT_ORDER/I2  ROW_ORDER/I2   ROW_LABEL/A20  
 CDM1VAS_AMT/D10 AS 'DOM_CURR' 
PDM1VAS_AMT/D10 AS 'DOM_PRIOR' DVASPCT/D10 AS 'DOM_VAR_VAL' DVASVPCT/D6  AS 'DOM_VAR_PCT' 
CIM1VAS_AMT/D10 AS 'INT_CURR' PIM1VAS_AMT/D10 AS 'INT_PRIOR'
IVASPCT/D10 AS 'INT_VAR_VAL'  IVASVPCT/D6  AS 'INT_VAR_PCT'
CTVAS_AMT/D10 AS 'DI_CURR' PTVAS_AMT/D10 AS 'DI_PRIOR' TVASPCT/D10 AS 'DI_VAR_VAL'
TVASVPCT/D6  AS 'DI_VAR_PCT'
BY FLAG NOPRINT
ON TABLE HOLD AS VSAV
-RUN
TABLE FILE VSAV
PRINT CATEGORY  AND CAT_ORDER AND ROW_ORDER AND ROW_LABEL AND DOM_CURR
AND DOM_PRIOR AND DOM_VAR_VAL AND DOM_VAR_PCT AND INT_CURR AND INT_PRIOR
AND INT_VAR_VAL AND INT_VAR_PCT AND DI_CURR AND DI_PRIOR AND DI_VAR_VAL AND DI_VAR_PCT
ON TABLE HOLD AS VSAV1
END
MODIFY FILE TC2_MAIN
FIXFORM FROM VSAV1
MATCH CATEGORY ROW_LABEL CAT_ORDER ROW_ORDER
ON MATCH UPDATE DOM_CURR DOM_PRIOR DOM_VAR_VAL DOM_VAR_PCT INT_CURR INT_PRIOR INT_VAR_VAL INT_VAR_PCT DI_CURR DI_PRIOR DI_VAR_VAL DI_VAR_PCT
ON NOMATCH INCLUDE
DATA ON VSAV1
END
-RUN




-*YTD Air Volume

DEFINE FILE TKT_TYP2
CATEGORY/A30 = 'Air';
CAT_ORDER/I2 = 6;
ROW_LABEL/A20 = 'Air Volume';
ROW_ORDER/I2 = 1;
END
TABLE FILE TKT_TYP2
PRINT CATEGORY/A30  CAT_ORDER/I2  ROW_ORDER/I2   ROW_LABEL/A20  
CDYTOTAMT/D10 AS 'DYTD_CURR' 
PDYTOTAMT/D10 AS 'DYTD_PRIOR' DYTOTVAR/D10 AS 'DYTD_VAR_VAL' DYTOTVPCT/D6  AS 'DYTD_VAR_PCT' 
CIYTOTAMT/D10 AS 'IYTD_CURR' PIYTOTAMT/D10 AS 'IYTD_PRIOR'
IYTOTVAR/D10 AS 'IYTD_VAR_VAL'  IYTOTVPCT/D6  AS 'IYTD_VAR_PCT'
CYTOTAMT/D10 AS 'DIYTD_CURR' PYTOTAMT/D10 AS 'DIYTD_PRIOR' TYTOTVAR/D10 AS 'DIYTD_VAR_VAL'
TYTOTVPCT/D6  AS 'DIYTD_VAR_PCT'
BY FLAG NOPRINT
ON TABLE HOLD AS YTOTVOL
END
-RUN


TABLE FILE YTOTVOL
PRINT CATEGORY  AND CAT_ORDER AND ROW_ORDER AND ROW_LABEL AND DYTD_CURR
AND DYTD_PRIOR AND DYTD_VAR_VAL AND DYTD_VAR_PCT AND IYTD_CURR AND IYTD_PRIOR
AND IYTD_VAR_VAL AND IYTD_VAR_PCT AND DIYTD_CURR AND DIYTD_PRIOR AND DIYTD_VAR_VAL AND DIYTD_VAR_PCT
ON TABLE HOLD AS YTOTVOL1
END
MODIFY FILE TC2_MAIN
FIXFORM FROM YTOTVOL1
MATCH CATEGORY ROW_LABEL CAT_ORDER ROW_ORDER
ON MATCH UPDATE DYTD_CURR DYTD_PRIOR DYTD_VAR_VAL DYTD_VAR_PCT IYTD_CURR IYTD_PRIOR IYTD_VAR_VAL IYTD_VAR_PCT DIYTD_CURR DIYTD_PRIOR DIYTD_VAR_VAL DIYTD_VAR_PCT
ON NOMATCH INCLUDE
DATA ON YTOTVOL1
END
-RUN

-* YTD Taxes

DEFINE FILE TKT_TYP2
CATEGORY/A30 = 'Air';
CAT_ORDER/I2 = 6;
ROW_LABEL/A20 = 'Taxes/Charges';
ROW_ORDER/I2 = 2;
END
TABLE FILE TKT_TYP2
PRINT CATEGORY/A30  CAT_ORDER/I2  ROW_ORDER/I2   ROW_LABEL/A20  
CDY1TAX_AMT/D10 AS 'DYTD_CURR' 
PDY1TAX_AMT/D10 AS 'DYTD_PRIOR' DYTAXVAR/D10 AS 'DYTD_VAR_VAL' DYTAXVPCT/D6  AS 'DYTD_VAR_PCT' 
CIY1TAX_AMT/D10 AS 'IYTD_CURR' PIY1TAX_AMT/D10 AS 'IYTD_PRIOR'
IYTAXVAR/D10 AS 'IYTD_VAR_VAL'  IYTAXVPCT/D6  AS 'IYTD_VAR_PCT'
TYCTAX/D10 AS 'DIYTD_CURR' TYPTAX/D10 AS 'DIYTD_PRIOR' TYTAXVAR/D10 AS 'DIYTD_VAR_VAL'
TYTAXVPCT/D6  AS 'DIYTD_VAR_PCT'
BY FLAG NOPRINT
ON TABLE HOLD AS YTAX
END
-RUN

TABLE FILE YTAX
PRINT CATEGORY  AND CAT_ORDER AND ROW_ORDER AND ROW_LABEL AND DYTD_CURR
AND DYTD_PRIOR AND DYTD_VAR_VAL AND DYTD_VAR_PCT AND IYTD_CURR AND IYTD_PRIOR
AND IYTD_VAR_VAL AND IYTD_VAR_PCT AND DIYTD_CURR AND DIYTD_PRIOR AND DIYTD_VAR_VAL AND DIYTD_VAR_PCT
ON TABLE HOLD AS YTAX1
END
MODIFY FILE TC2_MAIN
FIXFORM FROM YTAX1
MATCH CATEGORY ROW_LABEL CAT_ORDER ROW_ORDER
ON MATCH UPDATE DYTD_CURR DYTD_PRIOR DYTD_VAR_VAL DYTD_VAR_PCT IYTD_CURR IYTD_PRIOR IYTD_VAR_VAL IYTD_VAR_PCT DIYTD_CURR DIYTD_PRIOR DIYTD_VAR_VAL DIYTD_VAR_PCT
ON NOMATCH INCLUDE 
DATA ON YTAX1
END
-RUN

-*YTD Net Volume
            
DEFINE FILE TKT_TYP2
CATEGORY/A30 = 'Air';
CAT_ORDER/I2 = 6;
ROW_LABEL/A20 = 'Net Volume';
ROW_ORDER/I2 = 3;
END
TABLE FILE TKT_TYP2
PRINT CATEGORY/A30  CAT_ORDER/I2  ROW_ORDER/I2   ROW_LABEL/A20  
CDY1NET_AMT/D10 AS 'DYTD_CURR' 
PDY1NET_AMT/D10 AS 'DYTD_PRIOR' DYNETVAR/D10 AS 'DYTD_VAR_VAL' DYNETVPCT/D6  AS 'DYTD_VAR_PCT' 
CIY1NET_AMT/D10 AS 'IYTD_CURR' PIY1NET_AMT/D10 AS 'IYTD_PRIOR'
IYNETVAR/D10 AS 'IYTD_VAR_VAL'  IYNETVPCT/D6  AS 'IYTD_VAR_PCT'
CYNETAMT/D10 AS 'DIYTD_CURR' PYNETAMT/D10 AS 'DIYTD_PRIOR' TYNETVAR/D10 AS 'DIYTD_VAR_VAL'
TYNETVPCT/D6  AS 'DIYTD_VAR_PCT'
BY FLAG NOPRINT
ON TABLE HOLD AS YNET
END
-RUN

TABLE FILE YNET
PRINT CATEGORY  AND CAT_ORDER AND ROW_ORDER AND ROW_LABEL AND DYTD_CURR
AND DYTD_PRIOR AND DYTD_VAR_VAL AND DYTD_VAR_PCT AND IYTD_CURR AND IYTD_PRIOR
AND IYTD_VAR_VAL AND IYTD_VAR_PCT AND DIYTD_CURR AND DIYTD_PRIOR AND DIYTD_VAR_VAL AND DIYTD_VAR_PCT
ON TABLE HOLD AS YNET1
END
MODIFY FILE TC2_MAIN
FIXFORM FROM YNET1
MATCH CATEGORY ROW_LABEL CAT_ORDER ROW_ORDER
ON MATCH UPDATE DYTD_CURR DYTD_PRIOR DYTD_VAR_VAL DYTD_VAR_PCT IYTD_CURR IYTD_PRIOR IYTD_VAR_VAL IYTD_VAR_PCT DIYTD_CURR DIYTD_PRIOR DIYTD_VAR_VAL DIYTD_VAR_PCT
ON NOMATCH INCLUDE
DATA ON YNET1
END
-RUN

-* YTD Tickets Issued
   
DEFINE FILE TKT_TYP2
CATEGORY/A30 = 'Air';
CAT_ORDER/I2 = 6;
ROW_LABEL/A20 = 'Tickets Issued';
ROW_ORDER/I2 = 5;
END
TABLE FILE TKT_TYP2
PRINT CATEGORY/A30  CAT_ORDER/I2  ROW_ORDER/I2   ROW_LABEL/A20  
CDY1TKT_ISS/D10 AS 'DYTD_CURR' 
PDY1TKT_ISS/D10 AS 'DYTD_PRIOR' DYTKTVAR/D10 AS 'DYTD_VAR_VAL' DYTKTVPCT/D6  AS 'DYTD_VAR_PCT' 
CIY1TKT_ISS/D10 AS 'IYTD_CURR' PIY1TKT_ISS/D10 AS 'IYTD_PRIOR'
IYTKTVAR/D10 AS 'IYTD_VAR_VAL'  IYTKTVPCT/D6  AS 'IYTD_VAR_PCT'
CYTTKT_ISS/D10 AS 'DIYTD_CURR' PYTTKT_ISS/D10 AS 'DIYTD_PRIOR' TYTKTVAR/D10 AS 'DIYTD_VAR_VAL'
TYTKTVPCT/D6  AS 'DIYTD_VAR_PCT'
BY FLAG NOPRINT
ON TABLE HOLD AS YTKTISS
END
-RUN

TABLE FILE YTKTISS
PRINT CATEGORY  AND CAT_ORDER AND ROW_ORDER AND ROW_LABEL AND DYTD_CURR
AND DYTD_PRIOR AND DYTD_VAR_VAL AND DYTD_VAR_PCT AND IYTD_CURR AND IYTD_PRIOR
AND IYTD_VAR_VAL AND IYTD_VAR_PCT AND DIYTD_CURR AND DIYTD_PRIOR AND DIYTD_VAR_VAL AND DIYTD_VAR_PCT
ON TABLE HOLD AS YTKTISS1
END
MODIFY FILE TC2_MAIN
FIXFORM FROM YTKTISS1
MATCH CATEGORY ROW_LABEL CAT_ORDER ROW_ORDER
ON MATCH UPDATE DYTD_CURR DYTD_PRIOR DYTD_VAR_VAL DYTD_VAR_PCT IYTD_CURR IYTD_PRIOR IYTD_VAR_VAL IYTD_VAR_PCT DIYTD_CURR DIYTD_PRIOR DIYTD_VAR_VAL DIYTD_VAR_PCT
ON NOMATCH INCLUDE
DATA ON YTKTISS1
END
-RUN

-*YTD Airline Fees
DEFINE FILE TKT_TYP2
CATEGORY/A30 = 'Air';
CAT_ORDER/I2 = 6;
ROW_LABEL/A20 = 'Airline Fees';
ROW_ORDER/I2 = 4;
END

TABLE FILE TKT_TYP2
PRINT CATEGORY/A30  CAT_ORDER/I2  ROW_ORDER/I2   ROW_LABEL/A20  
CDY1AIR_FEE/D10 AS 'DYTD_CURR' 
PDY1AIR_FEE/D10 AS 'DYTD_PRIOR' DYFEEVAR/D10 AS 'DYTD_VAR_VAL' DYFEEVPCT/D6  AS 'DYTD_VAR_PCT' 
CIY1AIR_FEE/D10 AS 'IYTD_CURR' PIY1AIR_FEE/D10 AS 'IYTD_PRIOR'
IYFEEVAR/D10 AS 'IYTD_VAR_VAL'  IYFEEVPCT/D6  AS 'IYTD_VAR_PCT'
CYTAIR_FEE/D10 AS 'DIYTD_CURR' PYTAIR_FEE/D10 AS 'DIYTD_PRIOR' TYFEEVAR/D10 AS 'DIYTD_VAR_VAL'
TYFEEVPCT/D6  AS 'DIYTD_VAR_PCT'
BY FLAG NOPRINT
ON TABLE HOLD AS YFEE
END
-RUN

TABLE FILE YFEE
PRINT CATEGORY  AND CAT_ORDER AND ROW_ORDER AND ROW_LABEL AND DYTD_CURR
AND DYTD_PRIOR AND DYTD_VAR_VAL AND DYTD_VAR_PCT AND IYTD_CURR AND IYTD_PRIOR
AND IYTD_VAR_VAL AND IYTD_VAR_PCT AND DIYTD_CURR AND DIYTD_PRIOR AND DIYTD_VAR_VAL AND DIYTD_VAR_PCT
ON TABLE HOLD AS YFEE1
END
MODIFY FILE TC2_MAIN
FIXFORM FROM YFEE1
MATCH CATEGORY ROW_LABEL CAT_ORDER ROW_ORDER
ON MATCH UPDATE DYTD_CURR DYTD_PRIOR DYTD_VAR_VAL DYTD_VAR_PCT IYTD_CURR IYTD_PRIOR IYTD_VAR_VAL IYTD_VAR_PCT DIYTD_CURR DIYTD_PRIOR DIYTD_VAR_VAL DIYTD_VAR_PCT
ON NOMATCH INCLUDE
DATA ON YFEE1
END
-RUN

-*YTD Refunds


 
DEFINE FILE TKT_TYP2
CATEGORY/A30 = 'Air';
CAT_ORDER/I2 = 6;
ROW_LABEL/A20 = 'Full Refunds';
ROW_ORDER/I2 = 6;
END
TABLE FILE TKT_TYP2
PRINT CATEGORY/A30  CAT_ORDER/I2  ROW_ORDER/I2   ROW_LABEL/A20  
CDY1REF_ISS/D10 AS 'DYTD_CURR' 
PDY1REF_ISS/D10 AS 'DYTD_PRIOR' DYREFVAR/D10 AS 'DYTD_VAR_VAL' DYREFVPCT/D6  AS 'DYTD_VAR_PCT' 
CIY1REF_ISS/D10 AS 'IYTD_CURR' PIY1REF_ISS/D10 AS 'IYTD_PRIOR'
IYREFVAR/D10 AS 'IYTD_VAR_VAL'  IYREFVPCT/D6  AS 'IYTD_VAR_PCT'
CYTREF_ISS/D10 AS 'DIYTD_CURR' PYTREF_ISS/D10 AS 'DIYTD_PRIOR' TYREFVAR/D10 AS 'DIYTD_VAR_VAL'
TYREFVPCT/D6  AS 'DIYTD_VAR_PCT'
BY FLAG NOPRINT
ON TABLE HOLD AS YFREFND
END
-RUN

TABLE FILE YFREFND
PRINT CATEGORY  AND CAT_ORDER AND ROW_ORDER AND ROW_LABEL AND DYTD_CURR
AND DYTD_PRIOR AND DYTD_VAR_VAL AND DYTD_VAR_PCT AND IYTD_CURR AND IYTD_PRIOR
AND IYTD_VAR_VAL AND IYTD_VAR_PCT AND DIYTD_CURR AND DIYTD_PRIOR AND DIYTD_VAR_VAL AND DIYTD_VAR_PCT
ON TABLE HOLD AS YFREFND1
END
MODIFY FILE TC2_MAIN
FIXFORM FROM YFREFND1
MATCH CATEGORY ROW_LABEL CAT_ORDER ROW_ORDER
ON MATCH UPDATE DYTD_CURR DYTD_PRIOR DYTD_VAR_VAL DYTD_VAR_PCT IYTD_CURR IYTD_PRIOR IYTD_VAR_VAL IYTD_VAR_PCT DIYTD_CURR DIYTD_PRIOR DIYTD_VAR_VAL DIYTD_VAR_PCT
ON NOMATCH INCLUDE
DATA ON YFREFND1
END
-RUN

-* YTD Voids

DEFINE FILE TKT_TYP2
CATEGORY/A30 = 'Air';
CAT_ORDER/I2 = 6;
ROW_LABEL/A20 = 'Tickets Voided';
ROW_ORDER/I2 = 7;
END
TABLE FILE TKT_TYP2
PRINT CATEGORY/A30  CAT_ORDER/I2  ROW_ORDER/I2   ROW_LABEL/A20  
CDY1VOD_ISS/D10 AS 'DYTD_CURR' 
PDY1VOD_ISS/D10 AS 'DYTD_PRIOR' DYVODVAR/D10 AS 'DYTD_VAR_VAL' DYVODVPCT/D6  AS 'DYTD_VAR_PCT' 
CIY1VOD_ISS/D10 AS 'IYTD_CURR' PIY1VOD_ISS/D10 AS 'IYTD_PRIOR'
IYVODVAR/D10 AS 'IYTD_VAR_VAL'  IYVODVPCT/D6  AS 'IYTD_VAR_PCT'
CYTVOD_ISS/D10 AS 'DIYTD_CURR' PYTVOD_ISS/D10 AS 'DIYTD_PRIOR' TYVODVAR/D10 AS 'DIYTD_VAR_VAL'
TYVODVPCT/D6  AS 'DIYTD_VAR_PCT'
BY FLAG NOPRINT
ON TABLE HOLD AS YVOIDS
END
-RUN

TABLE FILE YVOIDS
PRINT CATEGORY  AND CAT_ORDER AND ROW_ORDER AND ROW_LABEL AND DYTD_CURR
AND DYTD_PRIOR AND DYTD_VAR_VAL AND DYTD_VAR_PCT AND IYTD_CURR AND IYTD_PRIOR
AND IYTD_VAR_VAL AND IYTD_VAR_PCT AND DIYTD_CURR AND DIYTD_PRIOR AND DIYTD_VAR_VAL AND DIYTD_VAR_PCT
ON TABLE HOLD AS YVOIDS1
END
MODIFY FILE TC2_MAIN
FIXFORM FROM YVOIDS1
MATCH CATEGORY ROW_LABEL CAT_ORDER ROW_ORDER
ON MATCH UPDATE DYTD_CURR DYTD_PRIOR DYTD_VAR_VAL DYTD_VAR_PCT IYTD_CURR IYTD_PRIOR IYTD_VAR_VAL IYTD_VAR_PCT DIYTD_CURR DIYTD_PRIOR DIYTD_VAR_VAL DIYTD_VAR_PCT
ON NOMATCH INCLUDE
DATA ON YVOIDS1
END
-RUN

-* YTD Full Exchanges

DEFINE FILE TKT_TYP2
CATEGORY/A30 = 'Air';
CAT_ORDER/I2 = 6;
ROW_LABEL/A20 = 'Full Exchanges';
ROW_ORDER/I2 = 8;
END
TABLE FILE TKT_TYP2
PRINT CATEGORY/A30  CAT_ORDER/I2  ROW_ORDER/I2   ROW_LABEL/A20  
CDY1EXG_ISS/D10 AS 'DYTD_CURR' 
PDY1EXG_ISS/D10 AS 'DYTD_PRIOR' DYEXGVAR/D10 AS 'DYTD_VAR_VAL' DYEXGVPCT/D6  AS 'DYTD_VAR_PCT' 
CIY1EXG_ISS/D10 AS 'IYTD_CURR' PIY1EXG_ISS/D10 AS 'IYTD_PRIOR'
IYEXGVAR/D10 AS 'IYTD_VAR_VAL'  IYEXGVPCT/D6  AS 'IYTD_VAR_PCT'
CYTEXG_ISS/D10 AS 'DIYTD_CURR' PYTEXG_ISS/D10 AS 'DIYTD_PRIOR' TYEXGVAR/D10 AS 'DIYTD_VAR_VAL'
TYEXGVPCT/D6  AS 'DIYTD_VAR_PCT'
BY FLAG NOPRINT
ON TABLE HOLD AS YFEXCHG
END
-RUN

TABLE FILE YFEXCHG
PRINT CATEGORY  AND CAT_ORDER AND ROW_ORDER AND ROW_LABEL AND DYTD_CURR
AND DYTD_PRIOR AND DYTD_VAR_VAL AND DYTD_VAR_PCT AND IYTD_CURR AND IYTD_PRIOR
AND IYTD_VAR_VAL AND IYTD_VAR_PCT AND DIYTD_CURR AND DIYTD_PRIOR AND DIYTD_VAR_VAL AND DIYTD_VAR_PCT
ON TABLE HOLD AS YFEXCHG1
END
MODIFY FILE TC2_MAIN
FIXFORM FROM YFEXCHG1
MATCH CATEGORY ROW_LABEL CAT_ORDER ROW_ORDER
ON MATCH UPDATE DYTD_CURR DYTD_PRIOR DYTD_VAR_VAL DYTD_VAR_PCT IYTD_CURR IYTD_PRIOR IYTD_VAR_VAL IYTD_VAR_PCT DIYTD_CURR DIYTD_PRIOR DIYTD_VAR_VAL DIYTD_VAR_PCT
ON NOMATCH INCLUDE
DATA ON YFEXCHG1
END
-RUN

-* YTD Net Tickets

DEFINE FILE TKT_TYP2
CATEGORY/A30 = 'Air';
CAT_ORDER/I2 = 6;
ROW_LABEL/A20 = 'Net Tickets';
ROW_ORDER/I2 = 9;
END
TABLE FILE TKT_TYP2
PRINT CATEGORY/A30  CAT_ORDER/I2  ROW_ORDER/I2   ROW_LABEL/A20  
CYDNTTKT/D10 AS 'DYTD_CURR' 
PYDNTTKT/D10 AS 'DYTD_PRIOR' DYNTKTVAR/D10 AS 'DYTD_VAR_VAL' DYNTKTVPCT/D6  AS 'DYTD_VAR_PCT' 
CYINTTKT/D10 AS 'IYTD_CURR' PYINTTKT/D10 AS 'IYTD_PRIOR'
IYNTKTVAR/D10 AS 'IYTD_VAR_VAL'  IYNTKTVPCT/D6  AS 'IYTD_VAR_PCT'
CYTNTTKT/D10 AS 'DIYTD_CURR' PYTNTTKT/D10 AS 'DIYTD_PRIOR' CYTNTKTVAR/D10 AS 'DIYTD_VAR_VAL'
CYTTKTVPCT/D6  AS 'DIYTD_VAR_PCT'
BY FLAG NOPRINT
ON TABLE HOLD AS YNETTKT
END
-RUN

TABLE FILE YNETTKT
PRINT CATEGORY  AND CAT_ORDER AND ROW_ORDER AND ROW_LABEL AND DYTD_CURR
AND DYTD_PRIOR AND DYTD_VAR_VAL AND DYTD_VAR_PCT AND IYTD_CURR AND IYTD_PRIOR
AND IYTD_VAR_VAL AND IYTD_VAR_PCT AND DIYTD_CURR AND DIYTD_PRIOR AND DIYTD_VAR_VAL AND DIYTD_VAR_PCT
ON TABLE HOLD AS YNETTKT1
END
MODIFY FILE TC2_MAIN
FIXFORM FROM YNETTKT1
MATCH CATEGORY ROW_LABEL CAT_ORDER ROW_ORDER
ON MATCH UPDATE DYTD_CURR DYTD_PRIOR DYTD_VAR_VAL DYTD_VAR_PCT IYTD_CURR IYTD_PRIOR IYTD_VAR_VAL IYTD_VAR_PCT DIYTD_CURR DIYTD_PRIOR DIYTD_VAR_VAL DIYTD_VAR_PCT
ON NOMATCH INCLUDE
DATA ON YNETTKT1
END
-RUN

-* YTD Average Ticket Cost

DEFINE FILE TKT_TYP2
CATEGORY/A30 = 'Air';
CAT_ORDER/I2 = 6;
ROW_LABEL/A20 = 'Average Ticket Cost';
ROW_ORDER/I2 = 10;
END
TABLE FILE TKT_TYP2
PRINT CATEGORY/A30  CAT_ORDER/I2  ROW_ORDER/I2   ROW_LABEL/A20  
CYDATP/D10 AS 'DYTD_CURR' 
PYDATP/D10 AS 'DYTD_PRIOR' DYATPVAR/D10 AS 'DYTD_VAR_VAL' DYATPVPCT/D6  AS 'DYTD_VAR_PCT' 
CYIATP/D10 AS 'IYTD_CURR' PYIATP/D10 AS 'IYTD_PRIOR'
IYATPVAR/D10 AS 'IYTD_VAR_VAL'  IYATPVPCT/D6  AS 'IYTD_VAR_PCT'
CYTATP/D10 AS 'DIYTD_CURR' PYTATP/D10 AS 'DIYTD_PRIOR' TYATPVAR/D10 AS 'DIYTD_VAR_VAL'
TYATPVPCT/D6  AS 'DIYTD_VAR_PCT'
BY FLAG NOPRINT
ON TABLE HOLD AS YATP
-RUN

TABLE FILE YATP
PRINT CATEGORY  AND CAT_ORDER AND ROW_ORDER AND ROW_LABEL AND DYTD_CURR
AND DYTD_PRIOR AND DYTD_VAR_VAL AND DYTD_VAR_PCT AND IYTD_CURR AND IYTD_PRIOR
AND IYTD_VAR_VAL AND IYTD_VAR_PCT AND DIYTD_CURR AND DIYTD_PRIOR AND DIYTD_VAR_VAL AND DIYTD_VAR_PCT
ON TABLE HOLD AS YATP1
END
MODIFY FILE TC2_MAIN
FIXFORM FROM YATP1
MATCH CATEGORY ROW_LABEL CAT_ORDER ROW_ORDER
ON MATCH UPDATE DYTD_CURR DYTD_PRIOR DYTD_VAR_VAL DYTD_VAR_PCT IYTD_CURR IYTD_PRIOR IYTD_VAR_VAL IYTD_VAR_PCT DIYTD_CURR DIYTD_PRIOR DIYTD_VAR_VAL DIYTD_VAR_PCT
ON NOMATCH INCLUDE
DATA ON YATP1
END
-RUN

-* YTD Lost Savings

DEFINE FILE TKT_TYP2
CATEGORY/A30 = 'Performance';
CAT_ORDER/I2 = 7;
ROW_LABEL/A20 = 'Lost Savings';
ROW_ORDER/I2 = 1;
END
TABLE FILE TKT_TYP2
PRINT CATEGORY/A30  CAT_ORDER/I2  ROW_ORDER/I2   ROW_LABEL/A20  
CDY1LOS_AMT/D10 AS 'DYTD_CURR' 
PDY1LOS_AMT/D10 AS 'DYTD_PRIOR' DYLOSVAR/D10 AS 'DYTD_VAR_VAL' DYLOSVPCT/D6  AS 'DYTD_VAR_PCT' 
CIY1LOS_AMT/D10 AS 'IYTD_CURR' PIY1LOS_AMT/D10 AS 'IYTD_PRIOR'
IYLOSVAR/D10 AS 'IYTD_VAR_VAL'  IYLOSVPCT/D6  AS 'IYTD_VAR_PCT'
CYTLOS_AMT/D10 AS 'DIYTD_CURR' PYTLOS_AMT/D10 AS 'DIYTD_PRIOR' TYLOSVAR/D10 AS 'DIYTD_VAR_VAL'
TYLOSVPCT/D6  AS 'DIYTD_VAR_PCT'
BY FLAG NOPRINT
ON TABLE HOLD AS YLSAV
-RUN

TABLE FILE YLSAV
PRINT CATEGORY  AND CAT_ORDER AND ROW_ORDER AND ROW_LABEL AND DYTD_CURR
AND DYTD_PRIOR AND DYTD_VAR_VAL AND DYTD_VAR_PCT AND IYTD_CURR AND IYTD_PRIOR
AND IYTD_VAR_VAL AND IYTD_VAR_PCT AND DIYTD_CURR AND DIYTD_PRIOR AND DIYTD_VAR_VAL AND DIYTD_VAR_PCT
ON TABLE HOLD AS YLSAV1
END
MODIFY FILE TC2_MAIN
FIXFORM FROM YLSAV1
MATCH CATEGORY ROW_LABEL CAT_ORDER ROW_ORDER
ON MATCH UPDATE DYTD_CURR DYTD_PRIOR DYTD_VAR_VAL DYTD_VAR_PCT IYTD_CURR IYTD_PRIOR IYTD_VAR_VAL IYTD_VAR_PCT DIYTD_CURR DIYTD_PRIOR DIYTD_VAR_VAL DIYTD_VAR_PCT
ON NOMATCH INCLUDE
DATA ON YLSAV1
END
-RUN

-* YTD Lost Savings %
 
DEFINE FILE TKT_TYP2
CATEGORY/A30 = 'Performance';
CAT_ORDER/I2 = 7;
ROW_LABEL/A20 = 'Lost Savings %';
ROW_ORDER/I2 = 2;
END
TABLE FILE TKT_TYP2
PRINT CATEGORY/A30  CAT_ORDER/I2  ROW_ORDER/I2   ROW_LABEL/A20  
CYDLOSP/D10 AS 'DYTD_CURR' 
PYILOSP/D10 AS 'DYTD_PRIOR' DYLOSPCT/D10 AS 'DYTD_VAR_VAL' DYLSTVPCT/D6  AS 'DYTD_VAR_PCT' 
CYILOSP/D10 AS 'IYTD_CURR' PYILOSP/D10 AS 'IYTD_PRIOR'
IYLOSPCT/D10 AS 'IYTD_VAR_VAL'  IYLSTVPCT/D6  AS 'IYTD_VAR_PCT'
CYTLOSP/D10 AS 'DIYTD_CURR' PYTLOSP/D10 AS 'DIYTD_PRIOR' TYLOSPCT/D10 AS 'DIYTD_VAR_VAL'
TYLSTVPCT/D6  AS 'DIYTD_VAR_PCT'
BY FLAG NOPRINT
ON TABLE HOLD AS YLSAVP
-RUN
TABLE FILE YLSAVP
PRINT CATEGORY  AND CAT_ORDER AND ROW_ORDER AND ROW_LABEL AND DYTD_CURR
AND DYTD_PRIOR AND DYTD_VAR_VAL AND DYTD_VAR_PCT AND IYTD_CURR AND IYTD_PRIOR
AND IYTD_VAR_VAL AND IYTD_VAR_PCT AND DIYTD_CURR AND DIYTD_PRIOR AND DIYTD_VAR_VAL AND DIYTD_VAR_PCT
ON TABLE HOLD AS YLSAVP1
END
MODIFY FILE TC2_MAIN
FIXFORM FROM YLSAVP1
MATCH CATEGORY ROW_LABEL CAT_ORDER ROW_ORDER
ON MATCH UPDATE DYTD_CURR DYTD_PRIOR DYTD_VAR_VAL DYTD_VAR_PCT IYTD_CURR IYTD_PRIOR IYTD_VAR_VAL IYTD_VAR_PCT DIYTD_CURR DIYTD_PRIOR DIYTD_VAR_VAL DIYTD_VAR_PCT
ON NOMATCH INCLUDE
DATA ON YLSAVP1
END
-RUN

-* YTD Contract Savings

DEFINE FILE TKT_TYP2
CATEGORY/A30 = 'Performance';
CAT_ORDER/I2 = 7;
ROW_LABEL/A20 = 'Contract Savings';
ROW_ORDER/I2 = 3;
END
TABLE FILE TKT_TYP2
PRINT CATEGORY/A30  CAT_ORDER/I2  ROW_ORDER/I2   ROW_LABEL/A20  
CDY1VAS_AMT/D10 AS 'DYTD_CURR' 
PDY1VAS_AMT/D10 AS 'DYTD_PRIOR' DYVASPCT/D10 AS 'DYTD_VAR_VAL' DYVASVPCT/D6  AS 'DYTD_VAR_PCT' 
CIY1VAS_AMT/D10 AS 'IYTD_CURR' PIY1VAS_AMT/D10 AS 'IYTD_PRIOR'
IYVASPCT/D10 AS 'IYTD_VAR_VAL'  IYVASVPCT/D6  AS 'IYTD_VAR_PCT'
CYTVAS_AMT/D10 AS 'DIYTD_CURR' PYTVAS_AMT/D10 AS 'DIYTD_PRIOR' TYVASPCT/D10 AS 'DIYTD_VAR_VAL'
TYVASVPCT/D6  AS 'DIYTD_VAR_PCT'
BY FLAG NOPRINT
ON TABLE HOLD AS YVSAV
-RUN
TABLE FILE YVSAV
PRINT CATEGORY  AND CAT_ORDER AND ROW_ORDER AND ROW_LABEL AND DYTD_CURR
AND DYTD_PRIOR AND DYTD_VAR_VAL AND DYTD_VAR_PCT AND IYTD_CURR AND IYTD_PRIOR
AND IYTD_VAR_VAL AND IYTD_VAR_PCT AND DIYTD_CURR AND DIYTD_PRIOR AND DIYTD_VAR_VAL AND DIYTD_VAR_PCT
ON TABLE HOLD AS YVSAV1
END
MODIFY FILE TC2_MAIN
FIXFORM FROM YVSAV1
MATCH CATEGORY ROW_LABEL CAT_ORDER ROW_ORDER
ON MATCH UPDATE DYTD_CURR DYTD_PRIOR DYTD_VAR_VAL DYTD_VAR_PCT IYTD_CURR IYTD_PRIOR IYTD_VAR_VAL IYTD_VAR_PCT DIYTD_CURR DIYTD_PRIOR DIYTD_VAR_VAL DIYTD_VAR_PCT
ON NOMATCH INCLUDE
DATA ON YVSAV1
END
-RUN

 


-GOTO XXITair;
 
DEFINE FILE TC2_MAIN
KEY/A1 = IF CAT_ORDER EQ 3 THEN 'Y' ELSE 'N'; 
END         
TABLEF FILE TC2_MAIN
ON TABLE SET PAGE-NUM OFF
PRINT CATEGORY  AND CAT_ORDER AND ROW_ORDER AND ROW_LABEL AND DOM_CURR
AND DOM_PRIOR AND DOM_VAR_VAL AND DOM_VAR_PCT AND INT_CURR AND INT_PRIOR
AND INT_VAR_VAL AND INT_VAR_PCT AND DI_CURR AND DI_PRIOR AND DI_VAR_VAL AND DI_VAR_PCT AND DYTD_CURR
AND DYTD_PRIOR AND DYTD_VAR_VAL AND DYTD_VAR_PCT AND IYTD_CURR AND IYTD_PRIOR
AND IYTD_VAR_VAL AND IYTD_VAR_PCT AND DIYTD_CURR AND DIYTD_PRIOR AND DIYTD_VAR_VAL AND DIYTD_VAR_PCT

  
BY CAT_ORDER  
BY ROW_ORDER  
BY ROW_LABEL
-*IF CAT_ORDER EQ 6 OR 7 OR 8 OR 9 OR 10
-*ON TABLE HOLD AS AIRSUM 
END
-RUN
-QUIT

-XXITair
