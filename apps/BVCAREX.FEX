-*****************THIS HEADER REPRESENTS THE 80 CHARACTER MAXIUM FOR PROGRAMS**
-INCLUDE SETECHO
-* File BVCAREX.FEX
-********************************************************************
-* MODIFICAIONS:
-********************************************************************
-* 1/27/15 - DEB - S-06899 CREATED FOR BVACHFIL
-*  09/20/2016  REJ  S-24432 ER5 Testing.  Changed the where on the dates
-*                               to use &CARDATES
-*11/17/2016 - RSB - S-26926 Change reports to read employee ID from EMP_ID
-*                            Changed LEVEL1 to EMP_ID
-*  12/29/2016  REJ  S-28553 Move ER5 My Reports to production.

-********************************************************************
-*SET &ECHO=ALL;
SET ASNAMES = ON
-SET HOLDATTR = ON;
-RUN
 
-SET &CARDATES = &&WEB_PATH || 'CARDATES.fex';
 
DEFINE FILE &&EXTRACT
LEVEL_DESC/A60 = &&LDESC;
NBR_DAYS/D12 = NUM_DAYS;
NEW_RENTAL_AMT/D14.2C = RENTAL_AMT;
  RENTAL_DAYS/D12 = IF (NUM_DAYS LT 0) AND (NUM_CARS LT 0) THEN
                   ((NUM_DAYS * NUM_CARS) * (-1)) ELSE NUM_DAYS * NUM_CARS;
  XPSNGR_NM/A15        =
    EDIT(PASSNGR_NAME,'999999999999999$$$$$$$$$$$$$$$$$$');
-* ****DEFINES ON PREVIOUS DEFINES****
END
-RUN
 
TABLEF FILE &&EXTRACT
PRINT DAILY_RATE
  INVOICE_DATE
  LEVEL_DESC
  EMP_ID
  NEW_RENTAL_AMT
  NBR_DAYS
  PASSNGR_NAME
  PNR_LOCATOR
  RENTAL_DAYS
  TKT_NUM
  VENDOR_NAME
  XPSNGR_NM
-INCLUDE &CARDATES
-********************************************************************
-* Where statements to select data specified in user profile
-********************************************************************
 
-INCLUDE RPTPARMS
&&WHERE1
&&WHERE2
&&WHERE3
&&WHERE4
&&WHERE5
&&WHERE6
&&WHERE7
&&WHERE8
&&WHERE9
&&WHERE10
 
ON TABLE HOLD AS CAR_HOLD
END
-RUN
 
 
TABLE FILE CAR_HOLD
 SUM RENTAL_DAYS
     NEW_RENTAL_AMT
     PASSNGR_NAME
BY LEVEL_DESC
BY EMP_ID
BY XPSNGR_NM
BY PNR_LOCATOR
BY TKT_NUM
BY VENDOR_NAME
ON TABLE HOLD AS BVCAR
END
-RUN
 
 
