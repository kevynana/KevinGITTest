-INCLUDE SETECHO

SET ASNAMES = ON 

 
TABLE FILE S2CONG
PRINT AIR_KEY EMBARK ROUTE TKT_SORT SEG_NBR
BY AIR_KEY NOPRINT
BY EMBARK NOPRINT
BY ROUTE NOPRINT
BY TKT_SORT NOPRINT
BY SEG_NBR NOPRINT
IF AIR_KEY CONTAINS 9003396628 OR 9003397183 OR 9003398109 OR 9003402231 OR 9003396884 OR 9003400037 OR 9003396626 OR 9003400309  
ON TABLE HOLD
END
-RUN




MODIFY FILE S2CONG
FIXFORM FROM HOLD
MATCH AIR_KEY EMBARK ROUTE TKT_SORT SEG_NBR
ON MATCH DELETE
ON NOMATCH REJECT
DATA ON HOLD
END
-RUN

TABLE FILE M2CONG
PRINT AIR_KEY EMBARK ROUTE TKT_SORT SEG_NBR
BY AIR_KEY NOPRINT
BY EMBARK NOPRINT
BY ROUTE NOPRINT
BY TKT_SORT NOPRINT
BY SEG_NBR NOPRINT
IF AIR_KEY CONTAINS 9003396628 OR 9003397183 OR 9003398109 OR 9003402231 OR 9003396884 OR 9003400037 OR 9003396626 OR 9003400309  
ON TABLE HOLD AS MHOLD
END
-RUN

MODIFY FILE M2CONG
FIXFORM FROM MHOLD
MATCH AIR_KEY EMBARK ROUTE TKT_SORT SEG_NBR
ON MATCH DELETE
ON NOMATCH REJECT
DATA ON MHOLD
END

TABLE FILE D2CONG
PRINT AIR_KEY EMBARK ROUTE TKT_SORT SEG_NBR
BY AIR_KEY NOPRINT
BY EMBARK NOPRINT
BY ROUTE NOPRINT
BY TKT_SORT NOPRINT
BY SEG_NBR NOPRINT
IF AIR_KEY CONTAINS 9003396628 OR 9003397183 OR 9003398109 OR 9003402231 OR 9003396884 OR 9003400037 OR 9003396626 OR 9003400309  
ON TABLE HOLD AS DHOLD
END
-RUN

MODIFY FILE D2CONG
FIXFORM FROM DHOLD
MATCH AIR_KEY EMBARK ROUTE TKT_SORT SEG_NBR
ON MATCH DELETE
ON NOMATCH REJECT
DATA ON DHOLD
END
-RUN

TABLE FILE A2CONG
PRINT AIR_KEY
BY AIR_KEY NOPRINT
IF AIR_KEY CONTAINS 9003396628 OR 9003397183 OR 9003398109 OR 9003402231 OR 9003396884 OR 9003400037 OR 9003396626 OR 9003400309  
ON TABLE HOLD AS AIRHOLD
END
-RUN


MODIFY FILE A2CONG
FIXFORM FROM AIRHOLD
MATCH AIR_KEY
ON MATCH DELETE
ON NOMATCH REJECT
DATA ON HOLD
END
-RUN

TABLE FILE PFCONG
PRINT SEQNBR
BY SEQNBR NOPRINT
IF AIR_KEY CONTAINS 9003396628 OR 9003397183 OR 9003398109 OR 9003402231 OR 9003396884 OR 9003400037 OR 9003396626 OR 9003400309  
ON TABLE HOLD
END
-RUN

MODIFY FILE PFCONG
FIXFORM FROM HOLD
MATCH SEQNBR
ON MATCH DELETE
ON NOMATCH REJECT
DATA ON HOLD
END
-RUN


 

TABLE FILE C2CONG
PRINT CAR_KEY
BY CAR_KEY NOPRINT
IF TKT_NUM CONTAINS 9003396628 OR 9003397183 OR 9003398109 OR 9003402231 OR 9003396884 OR 9003400037 OR 9003396626 OR 9003400309  
ON TABLE HOLD AS CHOLD
END
-RUN

MODIFY FILE C2CONG
FIXFORM FROM CHOLD
MATCH CAR_KEY
ON MATCH DELETE
ON NOMATCH REJECT
DATA ON CHOLD
END
-RUN


TABLE FILE H2CONG
PRINT HTL_KEY
BY HTL_KEY NOPRINT
IF TKT_NUM CONTAINS 9003396628 OR 9003397183 OR 9003398109 OR 9003402231 OR 9003396884 OR 9003400037 OR 9003396626 OR 9003400309  
ON TABLE HOLD AS HHOLD
END
-RUN

MODIFY FILE H2CONG
FIXFORM FROM HHOLD
MATCH HTL_KEY
ON MATCH DELETE
ON NOMATCH REJECT
DATA ON HHOLD
END
-RUN

-GOTO XXIT


TABLE FILE C2CONG
PRINT CAR_KEY
BY CAR_KEY NOPRINT
IF LEVEL1 EQ 'RENAL'
 
ON TABLE HOLD AS CHOLD
END
-RUN

MODIFY FILE C2CONG
FIXFORM FROM CHOLD
MATCH CAR_KEY
ON MATCH COMPUTE LEVEL1='AVITU';
ON MATCH COMPUTE LEVEL2='AVITU';
ON MATCH COMPUTE AROLL_LEV4='AVITU';
ON MATCH UPDATE LEVEL1
ON MATCH UPDATE LEVEL2
ON MATCH UPDATE AROLL_LEV4
ON NOMATCH REJECT
DATA ON CHOLD
END
-RUN


TABLE FILE H2CONG
PRINT HTL_KEY
BY HTL_KEY NOPRINT
IF LEVEL1 EQ 'RENAL'
ON TABLE HOLD AS HHOLD
END
-RUN

MODIFY FILE H2CONG
FIXFORM FROM HHOLD
MATCH HTL_KEY
ON MATCH COMPUTE LEVEL1='AVITU';
ON MATCH COMPUTE LEVEL2='AVITU';
ON MATCH COMPUTE AROLL_LEV4='AVITU';
ON MATCH UPDATE LEVEL1
ON MATCH UPDATE LEVEL2
ON MATCH UPDATE AROLL_LEV4
ON NOMATCH REJECT
DATA ON HHOLD
END
-RUN


-XXIT