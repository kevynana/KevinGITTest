-INCLUDE SETECHO

SET ASNAMES = ON
-GOTO BING;
TABLE FILE A2HROM
PRINT AIR_KEY
BY AIR_KEY NOPRINT
IF AIR_KEY CONTAINS 7263167168  
ON TABLE HOLD
END
-RUN

MODIFY FILE A2HROM
FIXFORM FROM HOLD
MATCH AIR_KEY
ON MATCH COMPUTE CLIENT_NUM='558171';
ON MATCH COMPUTE BR_CL_IDX='HL558171';
ON MATCH COMPUTE TRIP_PURPOSE='NA';
ON MATCH UPDATE CLIENT_NUM
ON MATCH UPDATE BR_CL_IDX
ON MATCH UPDATE TRIP_PURPOSE
ON NOMATCH REJECT
DATA ON HOLD
END
-RUN

TABLE FILE H2HROM
PRINT HTL_KEY
IF TKT_NUM CONTAINS 7263167168 
ON TABLE HOLD
END
-RUN

MODIFY FILE H2HROM
FIXFORM FROM HOLD
MATCH HTL_KEY
ON MATCH COMPUTE CLIENT_NUM='558171';
ON MATCH COMPUTE BR_CL_IDX='HL558171';
ON MATCH COMPUTE TRVLCD='NA';
ON MATCH UPDATE CLIENT_NUM
ON MATCH UPDATE BR_CL_IDX
ON MATCH UPDATE TRVLCD
ON NOMATCH REJECT
DATA ON HOLD
END
-RUN

-BING

TABLE FILE A2BING
PRINT AIR_KEY
BY AIR_KEY NOPRINT
IF TKT_NUM CONTAINS 9003404175 OR 9003408300 OR 9003408301 OR 9003405435 
ON TABLE HOLD
END
-RUN

MODIFY FILE A2BING
FIXFORM FROM HOLD
MATCH AIR_KEY
ON MATCH DELETE
ON NOMATCH REJECT
DATA ON HOLD
END

MODIFY FILE UABING
FIXFORM FROM HOLD
MATCH AIR_KEY
ON MATCH DELETE
ON NOMATCH REJECT
DATA ON HOLD
END

MODIFY FILE T2BING
FIXFORM FROM HOLD
MATCH AIR_KEY
ON MATCH DELETE
ON NOMATCH REJECT
DATA ON HOLD
END

TABLE FILE S2BING
PRINT AIR_KEY EMBARK ROUTE TKT_SORT SEG_NBR
BY AIR_KEY NOPRINT
BY EMBARK NOPRINT
BY ROUTE NOPRINT
BY TKT_SORT NOPRINT
BY SEG_NBR NOPRINT
IF AIR_KEY CONTAINS 9003404175 OR 9003408300 OR 9003408301 OR 9003405435 
ON TABLE HOLD AS SHOLD
END
-RUN

MODIFY FILE S2BING
FIXFORM FROM SHOLD
MATCH AIR_KEY EMBARK ROUTE TKT_SORT SEG_NBR
ON MATCH DELETE
ON NOMATCH REJECT
DATA ON SHOLD
END
-RUN


TABLE FILE M2BING
PRINT AIR_KEY EMBARK ROUTE TKT_SORT SEG_NBR
BY AIR_KEY NOPRINT
BY EMBARK NOPRINT
BY ROUTE NOPRINT
BY TKT_SORT NOPRINT
BY SEG_NBR NOPRINT
IF AIR_KEY CONTAINS 9003404175 OR 9003408300 OR 9003408301 OR 9003405435 
ON TABLE HOLD AS MHOLD
END
-RUN

MODIFY FILE M2BING
FIXFORM FROM MHOLD
MATCH AIR_KEY EMBARK ROUTE TKT_SORT SEG_NBR
ON MATCH DELETE
ON NOMATCH REJECT
DATA ON MHOLD
END
-RUN

TABLE FILE D2BING
PRINT AIR_KEY EMBARK ROUTE TKT_SORT SEG_NBR
BY AIR_KEY NOPRINT
BY EMBARK NOPRINT
BY ROUTE NOPRINT
BY TKT_SORT NOPRINT
BY SEG_NBR NOPRINT
IF AIR_KEY CONTAINS 9003404175 OR 9003408300 OR 9003408301 OR 9003405435 
ON TABLE HOLD AS DHOLD
END
-RUN

MODIFY FILE D2BING
FIXFORM FROM SHOLD
MATCH AIR_KEY EMBARK ROUTE TKT_SORT SEG_NBR
ON MATCH DELETE
ON NOMATCH REJECT
DATA ON DHOLD
END
-RUN