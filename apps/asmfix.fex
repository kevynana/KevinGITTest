-* File CREATEASM.FEX
-***************************************************************************
-* This program will fix the T_XXXX databases for all Non Quartered
-* clients.  The Geo Zone and Country Codes are incorrect for ARUNK segments.
-* DATE           NAME
-* 07/08/02       Steve Cords - Initial Creation
-***************************************************************************
-AIR
-SET &&DATPATH = 'K:\TNT\TTRACKER\DATA\';
-SET &&ROLLTARG = '      ';

-UPDLOOP
-TYPE "AIR"

-* This is the trigger file containing the target rollups for update
-*   action - each rollup shall be identified by a single entry
-*   consisting of the company id - e.g. METX or
-*   BAIR - the last record in this trigger file must be END
FILEDEF ROLLLIST DISK K:\TNT\TTRACKER\TEMP\ROLLLIST.TXT (LRECL 80
-RUN
FILEDEF ROLLNEW DISK K:\TNT\TTRACKER\TEMP\ROLLNEW.TXT (LRECL 80
-RUN

-READ ROLLLIST &&ROLLTARG
-IF &&ROLLTARG EQ 'END' THEN GOTO XFER;
-TYPE ROLLTARG &&ROLLTARG

-REPEAT BNEW WHILE &IORETURN EQ 0;
-READ ROLLLIST &&SLINE.80
-IF &IORETURN NE 0 THEN GOTO BNEW;
-WRITE ROLLNEW &&SLINE
-BNEW

FILEDEF ROLLLIST CLEAR
-RUN
FILEDEF ROLLNEW CLEAR
-RUN

COPY K:\TNT\TTRACKER\TEMP\ROLLNEW.TXT K:\TNT\TTRACKER\TEMP\ROLLLIST.TXT
-RUN

-TYPE ROLLTARG &&ROLLTARG

-SET &&COMPNY = SUBSTR(6, &&ROLLTARG, 1, 6, 6, 'A6');

-TYPE COMPANY &&COMPNY

-SET &&ROLLASM = 'T_' || &&COMPNY || '.FOC';
-SET &&TCOMP = 'T_' || &&COMPNY;
-SET &&ASMPATH = &&DATPATH || &&TCOMP || '.MAS';

-* GEO CODES
-* COUNTRY CODES

-* FIELD 9 = GEO_ZONE
-* FIELD 10 = COUNTRY CODE

-GEO

-SET &&SMD = 'S';

EX AIRXUSEX
END
-RUN

SET ASNAMES=ON

TABLE FILE SR_50
PRINT AIR_KEY SEG_NBR
EMB_APT.GEO_ZONE AS 'EGEOZONE'
RTE_APT.GEO_ZONE AS 'RGEOZONE'
AND COMPUTE ECNTCDE/A2 = EDIT (EMB_APT.COUNTRY_CODE, '99$');
RCNTCDE/A2 = EDIT (RTE_APT.COUNTRY_CODE, '99$');
IF TKT_MAIN.CTRY_COD CONTAINS '--';
ON TABLE HOLD
END
-RUN

CREATE FILE TTEMG
END
-RUN

-* SEGMENT 1

TABLE FILE HOLD
PRINT AIR_KEY
EGEOZONE AS 'GEOCNT1'
RGEOZONE AS 'GEOCNT2'
ECNTCDE AS 'CNTCNT1'
RCNTCDE AS 'CNTCNT2'
BY AIR_KEY NOPRINT
IF SEG_NBR EQ '01'
ON TABLE HOLD AS HOLD1
END
-RUN

MODIFY FILE TTEMG
FIXFORM FROM HOLD1
MATCH AIR_KEY
ON NOMATCH INCLUDE
ON MATCH UPDATE GEOCNT1 GEOCNT2 CNTCNT1 CNTCNT2
DATA ON HOLD1
END
-RUN

-* SEGMENT 2

-IF &RECORDS = 0 GOTO BOTH1;

TABLE FILE HOLD
PRINT AIR_KEY
RGEOZONE AS 'GEOCNT3'
RCNTCDE AS 'CNTCNT3'
BY AIR_KEY NOPRINT
IF SEG_NBR EQ '02'
ON TABLE HOLD AS HOLD1
END
-RUN

MODIFY FILE TTEMG
FIXFORM FROM HOLD1
MATCH AIR_KEY
ON NOMATCH INCLUDE
ON MATCH UPDATE GEOCNT3 CNTCNT3
DATA ON HOLD1
END
-RUN
-GOTO NBOTH1

-BOTH1
TABLE FILE HOLD
PRINT AIR_KEY
EGEOZONE AS 'GEOCNT2'
RGEOZONE AS 'GEOCNT3'
ECNTCDE AS 'CNTCNT2'
RCNTCDE AS 'CNTCNT3'
BY AIR_KEY NOPRINT
IF SEG_NBR EQ '02'
ON TABLE HOLD AS HOLD1
END
-RUN

MODIFY FILE TTEMG
FIXFORM FROM HOLD1
MATCH AIR_KEY
ON NOMATCH INCLUDE
ON MATCH UPDATE GEOCNT2 GEOCNT3 CNTCNT2 CNTCNT3
DATA ON HOLD1
END
-RUN

-NBOTH1
-* SEGMENT 3

-IF &RECORDS = 0 GOTO BOTH2;

TABLE FILE HOLD
PRINT AIR_KEY
RGEOZONE AS 'GEOCNT4'
RCNTCDE AS 'CNTCNT4'
BY AIR_KEY NOPRINT
IF SEG_NBR EQ '03'
ON TABLE HOLD AS HOLD1
END
-RUN

MODIFY FILE TTEMG
FIXFORM FROM HOLD1
MATCH AIR_KEY
ON NOMATCH INCLUDE
ON MATCH UPDATE GEOCNT4 CNTCNT4
DATA ON HOLD1
END
-RUN
-GOTO NBOTH2

-BOTH2
TABLE FILE HOLD
PRINT AIR_KEY
EGEOZONE AS 'GEOCNT3'
RGEOZONE AS 'GEOCNT4'
ECNTCDE AS 'CNTCNT3'
RCNTCDE AS 'CNTCNT4'
BY AIR_KEY NOPRINT
IF SEG_NBR EQ '03'
ON TABLE HOLD AS HOLD1
END
-RUN

MODIFY FILE TTEMG
FIXFORM FROM HOLD1
MATCH AIR_KEY
ON NOMATCH INCLUDE
ON MATCH UPDATE GEOCNT3 GEOCNT4 CNTCNT3 CNTCNT4
DATA ON HOLD1
END
-RUN
-NBOTH2
-* SEGMENT 4

-IF &RECORDS = 0 GOTO BOTH3;

TABLE FILE HOLD
PRINT AIR_KEY
RGEOZONE AS 'GEOCNT5'
RCNTCDE AS 'CNTCNT5'
BY AIR_KEY NOPRINT
IF SEG_NBR EQ '04'
ON TABLE HOLD AS HOLD1
END
-RUN

MODIFY FILE TTEMG
FIXFORM FROM HOLD1
MATCH AIR_KEY
ON NOMATCH INCLUDE
ON MATCH UPDATE GEOCNT5 CNTCNT5
DATA ON HOLD1
END
-RUN
-GOTO NBOTH3

-BOTH3
TABLE FILE HOLD
PRINT AIR_KEY
EGEOZONE AS 'GEOCNT4'
RGEOZONE AS 'GEOCNT5'
ECNTCDE AS 'CNTCNT4'
RCNTCDE AS 'CNTCNT5'
BY AIR_KEY NOPRINT
IF SEG_NBR EQ '04'
ON TABLE HOLD AS HOLD1
END
-RUN

MODIFY FILE TTEMG
FIXFORM FROM HOLD1
MATCH AIR_KEY
ON NOMATCH INCLUDE
ON MATCH UPDATE GEOCNT4 GEOCNT5 CNTCNT4 CNTCNT5
DATA ON HOLD1
END
-RUN
-NBOTH3
-* SEGMENT 5

-IF &RECORDS = 0 GOTO BOTH4;

TABLE FILE HOLD
PRINT AIR_KEY
RGEOZONE AS 'GEOCNT6'
RCNTCDE AS 'CNTCNT6'
BY AIR_KEY NOPRINT
IF SEG_NBR EQ '05'
ON TABLE HOLD AS HOLD1
END
-RUN

MODIFY FILE TTEMG
FIXFORM FROM HOLD1
MATCH AIR_KEY
ON NOMATCH INCLUDE
ON MATCH UPDATE GEOCNT6 CNTCNT6
DATA ON HOLD1
END
-RUN
-GOTO NBOTH4

-BOTH4
TABLE FILE HOLD
PRINT AIR_KEY
EGEOZONE AS 'GEOCNT5'
RGEOZONE AS 'GEOCNT6'
ECNTCDE AS 'CNTCNT5'
RCNTCDE AS 'CNTCNT6'
BY AIR_KEY NOPRINT
IF SEG_NBR EQ '05'
ON TABLE HOLD AS HOLD1
END
-RUN

MODIFY FILE TTEMG
FIXFORM FROM HOLD1
MATCH AIR_KEY
ON NOMATCH INCLUDE
ON MATCH UPDATE GEOCNT5 GEOCNT6 CNTCNT5 CNTCNT6
DATA ON HOLD1
END
-RUN
-NBOTH4
-* SEGMENT 6

-IF &RECORDS = 0 GOTO BOTH5;

TABLE FILE HOLD
PRINT AIR_KEY
RGEOZONE AS 'GEOCNT7'
RCNTCDE AS 'CNTCNT7'
BY AIR_KEY NOPRINT
IF SEG_NBR EQ '06'
ON TABLE HOLD AS HOLD1
END
-RUN

MODIFY FILE TTEMG
FIXFORM FROM HOLD1
MATCH AIR_KEY
ON NOMATCH INCLUDE
ON MATCH UPDATE GEOCNT7 CNTCNT7
DATA ON HOLD1
END
-RUN
-GOTO NBOTH5

-BOTH5
TABLE FILE HOLD
PRINT AIR_KEY
EGEOZONE AS 'GEOCNT6'
RGEOZONE AS 'GEOCNT7'
ECNTCDE AS 'CNTCNT6'
RCNTCDE AS 'CNTCNT7'
BY AIR_KEY NOPRINT
IF SEG_NBR EQ '06'
ON TABLE HOLD AS HOLD1
END
-RUN

MODIFY FILE TTEMG
FIXFORM FROM HOLD1
MATCH AIR_KEY
ON NOMATCH INCLUDE
ON MATCH UPDATE GEOCNT6 GEOCNT7 CNTCNT6 CNTCNT7
DATA ON HOLD1
END
-RUN
-NBOTH5
-* SEGMENT 7

-IF &RECORDS = 0 GOTO BOTH6;

TABLE FILE HOLD
PRINT AIR_KEY
RGEOZONE AS 'GEOCNT8'
RCNTCDE AS 'CNTCNT8'
BY AIR_KEY NOPRINT
IF SEG_NBR EQ '07'
ON TABLE HOLD AS HOLD1
END
-RUN

MODIFY FILE TTEMG
FIXFORM FROM HOLD1
MATCH AIR_KEY
ON NOMATCH INCLUDE
ON MATCH UPDATE GEOCNT8 CNTCNT8
DATA ON HOLD1
END
-RUN
-GOTO NBOTH6

-BOTH6
TABLE FILE HOLD
PRINT AIR_KEY
EGEOZONE AS 'GEOCNT7'
RGEOZONE AS 'GEOCNT8'
ECNTCDE AS 'CNTCNT7'
RCNTCDE AS 'CNTCNT8'
BY AIR_KEY NOPRINT
IF SEG_NBR EQ '07'
ON TABLE HOLD AS HOLD1
END
-RUN

MODIFY FILE TTEMG
FIXFORM FROM HOLD1
MATCH AIR_KEY
ON NOMATCH INCLUDE
ON MATCH UPDATE GEOCNT7 GEOCNT8 CNTCNT7 CNTCNT8
DATA ON HOLD1
END
-RUN
-NBOTH6
-* SEGMENT 8

-IF &RECORDS = 0 GOTO BOTH7;

TABLE FILE HOLD
PRINT AIR_KEY
RGEOZONE AS 'GEOCNT9'
RCNTCDE AS 'CNTCNT9'
BY AIR_KEY NOPRINT
IF SEG_NBR EQ '08'
ON TABLE HOLD AS HOLD1
END
-RUN

MODIFY FILE TTEMG
FIXFORM FROM HOLD1
MATCH AIR_KEY
ON NOMATCH INCLUDE
ON MATCH UPDATE GEOCNT9 CNTCNT9
DATA ON HOLD1
END
-RUN
-GOTO NBOTH7

-BOTH7
TABLE FILE HOLD
PRINT AIR_KEY
EGEOZONE AS 'GEOCNT8'
RGEOZONE AS 'GEOCNT9'
ECNTCDE AS 'CNTCNT8'
RCNTCDE AS 'CNTCNT9'
BY AIR_KEY NOPRINT
IF SEG_NBR EQ '08'
ON TABLE HOLD AS HOLD1
END
-RUN

MODIFY FILE TTEMG
FIXFORM FROM HOLD1
MATCH AIR_KEY
ON NOMATCH INCLUDE
ON MATCH UPDATE GEOCNT8 GEOCNT9 CNTCNT8 CNTCNT9
DATA ON HOLD1
END
-RUN
-NBOTH7
-* SEGMENT 9

-IF &RECORDS = 0 GOTO BOTH8;

TABLE FILE HOLD
PRINT AIR_KEY
RGEOZONE AS 'GEOCNT10'
RCNTCDE AS 'CNTCNT10'
BY AIR_KEY NOPRINT
IF SEG_NBR EQ '09'
ON TABLE HOLD AS HOLD1
END
-RUN

MODIFY FILE TTEMG
FIXFORM FROM HOLD1
MATCH AIR_KEY
ON NOMATCH INCLUDE
ON MATCH UPDATE GEOCNT10 CNTCNT10
DATA ON HOLD1
END
-RUN
-GOTO NBOTH8

-BOTH8
TABLE FILE HOLD
PRINT AIR_KEY
EGEOZONE AS 'GEOCNT9'
RGEOZONE AS 'GEOCNT10'
ECNTCDE AS 'CNTCNT9'
RCNTCDE AS 'CNTCNT10'
BY AIR_KEY NOPRINT
IF SEG_NBR EQ '09'
ON TABLE HOLD AS HOLD1
END
-RUN

MODIFY FILE TTEMG
FIXFORM FROM HOLD1
MATCH AIR_KEY
ON NOMATCH INCLUDE
ON MATCH UPDATE GEOCNT9 GEOCNT10 CNTCNT9 CNTCNT10
DATA ON HOLD1
END
-RUN
-NBOTH8
-* SEGMENT 10

-IF &RECORDS = 0 GOTO BOTH9;

TABLE FILE HOLD
PRINT AIR_KEY
RGEOZONE AS 'GEOCNT11'
RCNTCDE AS 'CNTCNT11'
BY AIR_KEY NOPRINT
IF SEG_NBR EQ '10'
ON TABLE HOLD AS HOLD1
END
-RUN

MODIFY FILE TTEMG
FIXFORM FROM HOLD1
MATCH AIR_KEY
ON NOMATCH INCLUDE
ON MATCH UPDATE GEOCNT11 CNTCNT11
DATA ON HOLD1
END
-RUN
-GOTO NBOTH9

-BOTH9
TABLE FILE HOLD
PRINT AIR_KEY
EGEOZONE AS 'GEOCNT10'
RGEOZONE AS 'GEOCNT11'
ECNTCDE AS 'CNTCNT10'
RCNTCDE AS 'CNTCNT11'
BY AIR_KEY NOPRINT
IF SEG_NBR EQ '10'
ON TABLE HOLD AS HOLD1
END
-RUN

MODIFY FILE TTEMG
FIXFORM FROM HOLD1
MATCH AIR_KEY
ON NOMATCH INCLUDE
ON MATCH UPDATE GEOCNT10 GEOCNT11 CNTCNT10 CNTCNT11
DATA ON HOLD1
END
-RUN
-NBOTH9
-* SEGMENT 11

-IF &RECORDS = 0 GOTO BOTH10;

TABLE FILE HOLD
PRINT AIR_KEY
RGEOZONE AS 'GEOCNT12'
RCNTCDE AS 'CNTCNT12'
BY AIR_KEY NOPRINT
IF SEG_NBR EQ '11'
ON TABLE HOLD AS HOLD1
END
-RUN

MODIFY FILE TTEMG
FIXFORM FROM HOLD1
MATCH AIR_KEY
ON NOMATCH INCLUDE
ON MATCH UPDATE GEOCNT12 CNTCNT12
DATA ON HOLD1
END
-RUN
-GOTO NBOTH10

-BOTH10
TABLE FILE HOLD
PRINT AIR_KEY
EGEOZONE AS 'GEOCNT11'
RGEOZONE AS 'GEOCNT12'
ECNTCDE AS 'CNTCNT11'
RCNTCDE AS 'CNTCNT12'
BY AIR_KEY NOPRINT
IF SEG_NBR EQ '11'
ON TABLE HOLD AS HOLD1
END
-RUN

MODIFY FILE TTEMG
FIXFORM FROM HOLD1
MATCH AIR_KEY
ON NOMATCH INCLUDE
ON MATCH UPDATE GEOCNT11 GEOCNT12 CNTCNT11 CNTCNT12
DATA ON HOLD1
END
-RUN
-NBOTH10
-* SEGMENT 12

-IF &RECORDS = 0 GOTO BOTH11;

TABLE FILE HOLD
PRINT AIR_KEY
RGEOZONE AS 'GEOCNT13'
RCNTCDE AS 'CNTCNT13'
BY AIR_KEY NOPRINT
IF SEG_NBR EQ '12'
ON TABLE HOLD AS HOLD1
END
-RUN

MODIFY FILE TTEMG
FIXFORM FROM HOLD1
MATCH AIR_KEY
ON NOMATCH INCLUDE
ON MATCH UPDATE GEOCNT13 CNTCNT13
DATA ON HOLD1
END
-RUN
-GOTO NBOTH11

-BOTH11
TABLE FILE HOLD
PRINT AIR_KEY
EGEOZONE AS 'GEOCNT12'
RGEOZONE AS 'GEOCNT13'
ECNTCDE AS 'CNTCNT12'
RCNTCDE AS 'CNTCNT13'
BY AIR_KEY NOPRINT
IF SEG_NBR EQ '12'
ON TABLE HOLD AS HOLD1
END
-RUN

MODIFY FILE TTEMG
FIXFORM FROM HOLD1
MATCH AIR_KEY
ON NOMATCH INCLUDE
ON MATCH UPDATE GEOCNT12 GEOCNT13 CNTCNT12 CNTCNT13
DATA ON HOLD1
END
-RUN
-NBOTH11
-* SEGMENT 13

-IF &RECORDS = 0 GOTO BOTH12;

TABLE FILE HOLD
PRINT AIR_KEY
RGEOZONE AS 'GEOCNT14'
RCNTCDE AS 'CNTCNT14'
BY AIR_KEY NOPRINT
IF SEG_NBR EQ '13'
ON TABLE HOLD AS HOLD1
END
-RUN

MODIFY FILE TTEMG
FIXFORM FROM HOLD1
MATCH AIR_KEY
ON NOMATCH INCLUDE
ON MATCH UPDATE GEOCNT14 CNTCNT14
DATA ON HOLD1
END
-RUN
-GOTO NBOTH12

-BOTH12
TABLE FILE HOLD
PRINT AIR_KEY
EGEOZONE AS 'GEOCNT13'
RGEOZONE AS 'GEOCNT14'
ECNTCDE AS 'CNTCNT13'
RCNTCDE AS 'CNTCNT14'
BY AIR_KEY NOPRINT
IF SEG_NBR EQ '13'
ON TABLE HOLD AS HOLD1
END
-RUN

MODIFY FILE TTEMG
FIXFORM FROM HOLD1
MATCH AIR_KEY
ON NOMATCH INCLUDE
ON MATCH UPDATE GEOCNT13 GEOCNT14 CNTCNT13 CNTCNT14
DATA ON HOLD1
END
-RUN
-NBOTH12
-* SEGMENT 14

-IF &RECORDS = 0 GOTO BOTH13;

TABLE FILE HOLD
PRINT AIR_KEY
RGEOZONE AS 'GEOCNT15'
RCNTCDE AS 'CNTCNT15'
BY AIR_KEY NOPRINT
IF SEG_NBR EQ '14'
ON TABLE HOLD AS HOLD1
END
-RUN

MODIFY FILE TTEMG
FIXFORM FROM HOLD1
MATCH AIR_KEY
ON NOMATCH INCLUDE
ON MATCH UPDATE GEOCNT15 CNTCNT15
DATA ON HOLD1
END
-RUN
-GOTO NBOTH13

-BOTH13
TABLE FILE HOLD
PRINT AIR_KEY
EGEOZONE AS 'GEOCNT14'
RGEOZONE AS 'GEOCNT15'
ECNTCDE AS 'CNTCNT14'
RCNTCDE AS 'CNTCNT15'
BY AIR_KEY NOPRINT
IF SEG_NBR EQ '14'
ON TABLE HOLD AS HOLD1
END
-RUN

MODIFY FILE TTEMG
FIXFORM FROM HOLD1
MATCH AIR_KEY
ON NOMATCH INCLUDE
ON MATCH UPDATE GEOCNT14 GEOCNT15 CNTCNT14 CNTCNT15
DATA ON HOLD1
END
-RUN
-NBOTH13
-* SEGMENT 15

-IF &RECORDS = 0 GOTO BOTH14;

TABLE FILE HOLD
PRINT AIR_KEY
RGEOZONE AS 'GEOCNT16'
RCNTCDE AS 'CNTCNT16'
BY AIR_KEY NOPRINT
IF SEG_NBR EQ '15'
ON TABLE HOLD AS HOLD1
END
-RUN

MODIFY FILE TTEMG
FIXFORM FROM HOLD1
MATCH AIR_KEY
ON NOMATCH INCLUDE
ON MATCH UPDATE GEOCNT16 CNTCNT16
DATA ON HOLD1
END
-RUN
-GOTO NBOTH14

-BOTH14
TABLE FILE HOLD
PRINT AIR_KEY
EGEOZONE AS 'GEOCNT15'
RGEOZONE AS 'GEOCNT16'
ECNTCDE AS 'CNTCNT15'
RCNTCDE AS 'CNTCNT16'
BY AIR_KEY NOPRINT
IF SEG_NBR EQ '15'
ON TABLE HOLD AS HOLD1
END
-RUN

MODIFY FILE TTEMG
FIXFORM FROM HOLD1
MATCH AIR_KEY
ON NOMATCH INCLUDE
ON MATCH UPDATE GEOCNT15 GEOCNT16 CNTCNT15 CNTCNT16
DATA ON HOLD1
END
-RUN
-NBOTH14
-* SEGMENT 16

-IF &RECORDS = 0 GOTO BOTH15;

TABLE FILE HOLD
PRINT AIR_KEY
RGEOZONE AS 'GEOCNT17'
RCNTCDE AS 'CNTCNT17'
BY AIR_KEY NOPRINT
IF SEG_NBR EQ '16'
ON TABLE HOLD AS HOLD1
END
-RUN

MODIFY FILE TTEMG
FIXFORM FROM HOLD1
MATCH AIR_KEY
ON NOMATCH INCLUDE
ON MATCH UPDATE GEOCNT17 CNTCNT17
DATA ON HOLD1
END
-RUN
-GOTO NBOTH15

-BOTH15
TABLE FILE HOLD
PRINT AIR_KEY
EGEOZONE AS 'GEOCNT16'
RGEOZONE AS 'GEOCNT17'
ECNTCDE AS 'CNTCNT16'
RCNTCDE AS 'CNTCNT17'
BY AIR_KEY NOPRINT
IF SEG_NBR EQ '16'
ON TABLE HOLD AS HOLD1
END
-RUN

MODIFY FILE TTEMG
FIXFORM FROM HOLD1
MATCH AIR_KEY
ON NOMATCH INCLUDE
ON MATCH UPDATE GEOCNT16 GEOCNT17 CNTCNT16 CNTCNT17
DATA ON HOLD1
END
-RUN
-NBOTH15

DEFINE FILE TTEMG
MGEOZ/A68 = IF GEOCNT17 NE '   ' THEN
GEOCNT1 | '-' | GEOCNT2 | '-' | GEOCNT3 | '-' |
GEOCNT4 | '-' | GEOCNT5 | '-' | GEOCNT6 | '-' | GEOCNT7 | '-' |
GEOCNT8 | '-' | GEOCNT9 | '-' | GEOCNT10 | '-' | GEOCNT11 | '-' |
GEOCNT12 | '-' | GEOCNT13 | '-' | GEOCNT14 | '-' |
GEOCNT15 | '-' | GEOCNT16 | '-' | GEOCNT17 ELSE
IF GEOCNT16 NE '   ' THEN
GEOCNT1 | '-' | GEOCNT2 | '-' | GEOCNT3 | '-' |
GEOCNT4 | '-' | GEOCNT5 | '-' | GEOCNT6 | '-' | GEOCNT7 | '-' |
GEOCNT8 | '-' | GEOCNT9 | '-' | GEOCNT10 | '-' | GEOCNT11 | '-' |
GEOCNT12 | '-' | GEOCNT13 | '-' | GEOCNT14 | '-' |
GEOCNT15 | '-' | GEOCNT16 ELSE
IF GEOCNT15 NE '   ' THEN
GEOCNT1 | '-' | GEOCNT2 | '-' | GEOCNT3 | '-' |
GEOCNT4 | '-' | GEOCNT5 | '-' | GEOCNT6 | '-' | GEOCNT7 | '-' |
GEOCNT8 | '-' | GEOCNT9 | '-' | GEOCNT10 | '-' | GEOCNT11 | '-' |
GEOCNT12 | '-' | GEOCNT13 | '-' | GEOCNT14 | '-' |
GEOCNT15 ELSE
IF GEOCNT14 NE '   ' THEN
GEOCNT1 | '-' | GEOCNT2 | '-' | GEOCNT3 | '-' |
GEOCNT4 | '-' | GEOCNT5 | '-' | GEOCNT6 | '-' | GEOCNT7 | '-' |
GEOCNT8 | '-' | GEOCNT9 | '-' | GEOCNT10 | '-' | GEOCNT11 | '-' |
GEOCNT12 | '-' | GEOCNT13 | '-' | GEOCNT14 ELSE
IF GEOCNT13 NE '   ' THEN
GEOCNT1 | '-' | GEOCNT2 | '-' | GEOCNT3 | '-' |
GEOCNT4 | '-' | GEOCNT5 | '-' | GEOCNT6 | '-' | GEOCNT7 | '-' |
GEOCNT8 | '-' | GEOCNT9 | '-' | GEOCNT10 | '-' | GEOCNT11 | '-' |
GEOCNT12 | '-' | GEOCNT13 ELSE
IF GEOCNT12 NE '   ' THEN
GEOCNT1 | '-' | GEOCNT2 | '-' | GEOCNT3 | '-' |
GEOCNT4 | '-' | GEOCNT5 | '-' | GEOCNT6 | '-' | GEOCNT7 | '-' |
GEOCNT8 | '-' | GEOCNT9 | '-' | GEOCNT10 | '-' | GEOCNT11 | '-' |
GEOCNT12 ELSE
IF GEOCNT11 NE '   ' THEN
GEOCNT1 | '-' | GEOCNT2 | '-' | GEOCNT3 | '-' |
GEOCNT4 | '-' | GEOCNT5 | '-' | GEOCNT6 | '-' | GEOCNT7 | '-' |
GEOCNT8 | '-' | GEOCNT9 | '-' | GEOCNT10 | '-' | GEOCNT11 ELSE
IF GEOCNT10 NE '   ' THEN
GEOCNT1 | '-' | GEOCNT2 | '-' | GEOCNT3 | '-' |
GEOCNT4 | '-' | GEOCNT5 | '-' | GEOCNT6 | '-' | GEOCNT7 | '-' |
GEOCNT8 | '-' | GEOCNT9 | '-' | GEOCNT10 ELSE
IF GEOCNT9 NE '   ' THEN
GEOCNT1 | '-' | GEOCNT2 | '-' | GEOCNT3 | '-' |
GEOCNT4 | '-' | GEOCNT5 | '-' | GEOCNT6 | '-' | GEOCNT7 | '-' |
GEOCNT8 | '-' | GEOCNT9 ELSE
IF GEOCNT8 NE '   ' THEN
GEOCNT1 | '-' | GEOCNT2 | '-' | GEOCNT3 | '-' |
GEOCNT4 | '-' | GEOCNT5 | '-' | GEOCNT6 | '-' | GEOCNT7 | '-' |
GEOCNT8 ELSE
IF GEOCNT7 NE '   ' THEN
GEOCNT1 | '-' | GEOCNT2 | '-' | GEOCNT3 | '-' |
GEOCNT4 | '-' | GEOCNT5 | '-' | GEOCNT6 | '-' | GEOCNT7 ELSE
IF GEOCNT6 NE '   ' THEN
GEOCNT1 | '-' | GEOCNT2 | '-' | GEOCNT3 | '-' |
GEOCNT4 | '-' | GEOCNT5 | '-' | GEOCNT6 ELSE
IF GEOCNT5 NE '   ' THEN
GEOCNT1 | '-' | GEOCNT2 | '-' | GEOCNT3 | '-' |
GEOCNT4 | '-' | GEOCNT5 ELSE
IF GEOCNT4 NE '   ' THEN
GEOCNT1 | '-' | GEOCNT2 | '-' | GEOCNT3 | '-' |
GEOCNT4 ELSE
IF GEOCNT3 NE '  ' THEN
GEOCNT1 | '-' | GEOCNT2 | '-' | GEOCNT3 ELSE
GEOCNT1 | '-' | GEOCNT2;
MCNTC/A68 = IF CNTCNT17 NE '  ' THEN
CNTCNT1||'-'||CNTCNT2||'-'||CNTCNT3||'-'||
CNTCNT4||'-'||CNTCNT5||'-'||CNTCNT6||'-'||CNTCNT7||'-'||
CNTCNT8||'-'||CNTCNT9||'-'||CNTCNT10||'-'||CNTCNT11||'-'||
CNTCNT12||'-'||CNTCNT13||'-'||CNTCNT14||'-'||
CNTCNT15||'-'||CNTCNT16||'-'||CNTCNT17 ELSE
IF CNTCNT16 NE '  ' THEN
CNTCNT1||'-'||CNTCNT2||'-'||CNTCNT3||'-'||
CNTCNT4||'-'||CNTCNT5||'-'||CNTCNT6||'-'||CNTCNT7||'-'||
CNTCNT8||'-'||CNTCNT9||'-'||CNTCNT10||'-'||CNTCNT11||'-'||
CNTCNT12||'-'||CNTCNT13||'-'||CNTCNT14||'-'||
CNTCNT15||'-'||CNTCNT16 ELSE
IF CNTCNT15 NE '  ' THEN
CNTCNT1||'-'||CNTCNT2||'-'||CNTCNT3||'-'||
CNTCNT4||'-'||CNTCNT5||'-'||CNTCNT6||'-'||CNTCNT7||'-'||
CNTCNT8||'-'||CNTCNT9||'-'||CNTCNT10||'-'||CNTCNT11||'-'||
CNTCNT12||'-'||CNTCNT13||'-'||CNTCNT14||'-'||
CNTCNT15 ELSE
IF CNTCNT14 NE '  ' THEN
CNTCNT1||'-'||CNTCNT2||'-'||CNTCNT3||'-'||
CNTCNT4||'-'||CNTCNT5||'-'||CNTCNT6||'-'||CNTCNT7||'-'||
CNTCNT8||'-'||CNTCNT9||'-'||CNTCNT10||'-'||CNTCNT11||'-'||
CNTCNT12||'-'||CNTCNT13||'-'||CNTCNT14 ELSE
IF CNTCNT13 NE '  ' THEN
CNTCNT1||'-'||CNTCNT2||'-'||CNTCNT3||'-'||
CNTCNT4||'-'||CNTCNT5||'-'||CNTCNT6||'-'||CNTCNT7||'-'||
CNTCNT8||'-'||CNTCNT9||'-'||CNTCNT10||'-'||CNTCNT11||'-'||
CNTCNT12||'-'||CNTCNT13 ELSE
IF CNTCNT12 NE '  ' THEN
CNTCNT1||'-'||CNTCNT2||'-'||CNTCNT3||'-'||
CNTCNT4||'-'||CNTCNT5||'-'||CNTCNT6||'-'||CNTCNT7||'-'||
CNTCNT8||'-'||CNTCNT9||'-'||CNTCNT10||'-'||CNTCNT11||'-'||
CNTCNT12 ELSE
IF CNTCNT11 NE '  ' THEN
CNTCNT1||'-'||CNTCNT2||'-'||CNTCNT3||'-'||
CNTCNT4||'-'||CNTCNT5||'-'||CNTCNT6||'-'||CNTCNT7||'-'||
CNTCNT8||'-'||CNTCNT9||'-'||CNTCNT10||'-'||CNTCNT11 ELSE
IF CNTCNT10 NE '  ' THEN
CNTCNT1||'-'||CNTCNT2||'-'||CNTCNT3||'-'||
CNTCNT4||'-'||CNTCNT5||'-'||CNTCNT6||'-'||CNTCNT7||'-'||
CNTCNT8||'-'||CNTCNT9||'-'||CNTCNT10 ELSE
IF CNTCNT9 NE '  ' THEN
CNTCNT1||'-'||CNTCNT2||'-'||CNTCNT3||'-'||
CNTCNT4||'-'||CNTCNT5||'-'||CNTCNT6||'-'||CNTCNT7||'-'||
CNTCNT8||'-'||CNTCNT9 ELSE
IF CNTCNT8 NE '  ' THEN
CNTCNT1||'-'||CNTCNT2||'-'||CNTCNT3||'-'||
CNTCNT4||'-'||CNTCNT5||'-'||CNTCNT6||'-'||CNTCNT7||'-'||
CNTCNT8 ELSE
IF CNTCNT7 NE '  ' THEN
CNTCNT1||'-'||CNTCNT2||'-'||CNTCNT3||'-'||
CNTCNT4||'-'||CNTCNT5||'-'||CNTCNT6||'-'||CNTCNT7 ELSE
IF CNTCNT6 NE '  ' THEN
CNTCNT1||'-'||CNTCNT2||'-'||CNTCNT3||'-'||
CNTCNT4||'-'||CNTCNT5||'-'||CNTCNT6 ELSE
IF CNTCNT5 NE '  ' THEN
CNTCNT1||'-'||CNTCNT2||'-'||CNTCNT3||'-'||
CNTCNT4||'-'||CNTCNT5 ELSE
IF CNTCNT4 NE '  ' THEN
CNTCNT1||'-'||CNTCNT2||'-'||CNTCNT3||'-'||
CNTCNT4 ELSE
IF CNTCNT3 NE '  ' THEN
CNTCNT1||'-'||CNTCNT2||'-'||CNTCNT3 ELSE
CNTCNT1||'-'||CNTCNT2;
END
-RUN

TABLE FILE TTEMG
PRINT AIR_KEY MGEOZ MCNTC
BY AIR_KEY NOPRINT
ON TABLE HOLD
END
-RUN

MODIFY FILE &&TCOMP
FIXFORM FROM HOLD
MATCH AIR_KEY
ON NOMATCH REJECT
ON MATCH UPDATE MGEOZ MCNTC
DATA ON HOLD
END
-RUN

-GOTO UPDLOOP

-XFER
-TYPE PROGRAM COMPLETED.......
-*-EXIT
