
-*****************THIS HEADER REPRESENTS THE 80 CHARACTER MAXIUM FOR PROGRAMS**

SET ASNAMES=ON

-* File TSSHOLD.FEX

-* This program runs off of the segment database selected and 
-* creates a hold file that will be used by Nettkts, Avgtkt, Savings,
-* Airclass and Ytdclass

TABLEF FILE &&EXTRACT
PRINT SEG_AMT AND SEG_TAX AND TRN_DATE AND TICKET_CODE AND SEG_NBR
AND SEG_COUNT AND CONJ_REL AND EX_FLAG AND RF_FLAG AND SEG_STANDARD
AND SEG_LOWEST AND AIRLINE AND EMBARK AND ROUTE AND CL_CAT 
AND BR_CL_IDX AND LEVEL1 AND LEVEL2 AND AIR_MAIN.INTL_DOM AS 'INT_DOM'
AND TICKET_AMT AND TAX_AMT AND LOWEST_AMT AND REFUSAL_DESC AND REFUSE_CODE
AND SEG_MILES
WHERE VOID.VOID_DATE EQ 0
-* WHERE AIR_MAIN.TICKET_CODE EQ '1'
WHERE (TRN_DATE GE &&CMFMDT.EVAL AND TRN_DATE LE &&CMTODT.EVAL)
   OR (TRN_DATE GE &&PMFMDT.EVAL AND TRN_DATE LE &&PMTODT.EVAL)
   OR (TRN_DATE GE &&CYFMDT.EVAL AND TRN_DATE LE &&CYTODT.EVAL)
   OR (TRN_DATE GE &&PYFMDT.EVAL AND TRN_DATE LE &&PYTODT.EVAL)

&&WHERE1
&&WHERE2
&&WHERE3


-INCLUDE RPTPARMS

ON TABLE HOLD AS TSSHOLD
END

-RUN
-*-EXIT
