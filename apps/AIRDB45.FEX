-**********************************************************************
-* This program will set up the databases to be used.
-* Date: Feb 09, 2004
-**********************************************************************
-INCLUDE SETECHO

TABLE FILE BRPTINST
PRINT RPT_GROUP PAIR_DB
WHERE INST_KEY EQ &&IKEY
ON TABLE SAVE AS RPTGRP
END
-RUN
 
-READ RPTGRP &RPTGRP.A3. &PAIRDB.A1.
-SET &PAIRDB = 'S';
 
-SET &&EXTRACT = 'SR_50';
 
-SET &&AIR_PATH = '&&DATASRV.EVAL' || '\TNT\TTRACKER\DATA\';
-SET &&COM_PATH = '&&DATASRV.EVAL' || '\TNT\TTRACKER\SYSTEM\DATA\';
-SET &&SU_PATH  = '&&DATASRV.EVAL' || '\TNT\TTRACKER\SUDATA\';

USE CLEAR *
-RUN
 
TABLE FILE ROLLUP
PRINT ROLLUP_CODE COMP QTR_ENABLE
BY ROLLUP_CODE NOPRINT
WHERE ROLLUP_CODE EQ '&&ROLL.EVAL'
ON TABLE SAVE AS ROLLSEL
END
-RUN
 
-READ ROLLSEL &&ROLL.A8. &&COMPNY1.A6. &&QTR.A1.
 
-SET &&AH_DB1 = 'AL' || &&COMPNY1 || '.FOC';
-SET &&USE_AH1 = &&AIR_PATH || &&AH_DB1;
-IF &&QTR NE ' ' THEN GOTO QUART ELSE GOTO NONQUART;
 
-QUART
 
-SET &&COMP1A = &PAIRDB || '0' ||&&COMPNY1 || '.FOC';
-* -SET &&COMP1A = 'S0' ||&&COMPNY1 || '.FOC';
-SET &&COMP1B = 'A0' ||&&COMPNY1 || '.FOC';
-SET &&COMP1C = 'T0' ||&&COMPNY1 || '.FOC';
 
-SET &&COMP2A = &PAIRDB || '1' ||&&COMPNY1 || '.FOC';
-* -SET &&COMP2A = 'S1' ||&&COMPNY1 || '.FOC';
-SET &&COMP2B = 'A1' ||&&COMPNY1 || '.FOC';
-SET &&COMP2C = 'T1' ||&&COMPNY1 || '.FOC';
 
-SET &&COMP3A = &PAIRDB || '2' ||&&COMPNY1 || '.FOC';
-* -SET &&COMP3A = 'S2' ||&&COMPNY1 || '.FOC';
-SET &&COMP3B = 'A2' ||&&COMPNY1 || '.FOC';
-SET &&COMP3C = 'T2' ||&&COMPNY1 || '.FOC';
 
-SET &&COMP4A = &PAIRDB || '3' ||&&COMPNY1 || '.FOC';
-* -SET &&COMP4A = 'S3' ||&&COMPNY1 || '.FOC';
-SET &&COMP4B = 'A3' ||&&COMPNY1 || '.FOC';
-SET &&COMP4C = 'T3' ||&&COMPNY1 || '.FOC';
 
-SET &&COMP5A = &PAIRDB || '4' ||&&COMPNY1 || '.FOC';
-* -SET &&COMP5A = 'S4' ||&&COMPNY1 || '.FOC';
-SET &&COMP5B = 'A4' ||&&COMPNY1 || '.FOC';
-SET &&COMP5C = 'T4' ||&&COMPNY1 || '.FOC';
 
-SET &&COMP6A = &PAIRDB || '5' ||&&COMPNY1 || '.FOC';
-* -SET &&COMP6A = 'S5' ||&&COMPNY1 || '.FOC';
-SET &&COMP6B = 'A5' ||&&COMPNY1 || '.FOC';
-SET &&COMP6C = 'T5' ||&&COMPNY1 || '.FOC';
 
-SET &&COMP7A = &PAIRDB || '6' ||&&COMPNY1 || '.FOC';
-* -SET &&COMP7A = 'S6' ||&&COMPNY1 || '.FOC';
-SET &&COMP7B = 'A6' ||&&COMPNY1 || '.FOC';
-SET &&COMP7C = 'T6' ||&&COMPNY1 || '.FOC';
 
-SET &&COMP8A = &PAIRDB || '7' ||&&COMPNY1 || '.FOC';
-* -SET &&COMP8A = 'S7' ||&&COMPNY1 || '.FOC';
-SET &&COMP8B = 'A7' ||&&COMPNY1 || '.FOC';
-SET &&COMP8C = 'T7' ||&&COMPNY1 || '.FOC';
 
-SET &&COMP9A = &PAIRDB || '8' ||&&COMPNY1 || '.FOC';
-* -SET &&COMP9A = 'S8' ||&&COMPNY1 || '.FOC';
-SET &&COMP9B = 'A8' ||&&COMPNY1 || '.FOC';
-SET &&COMP9C = 'T8' ||&&COMPNY1 || '.FOC';
 
-SET &&COMP10A = &PAIRDB || '9' ||&&COMPNY1 || '.FOC';
-* -SET &&COMP10A = 'S9' ||&&COMPNY1 || '.FOC';
-SET &&COMP10B = 'A9' ||&&COMPNY1 || '.FOC';
-SET &&COMP10C = 'T9' ||&&COMPNY1 || '.FOC';
 
-SET &&COMP11A = &PAIRDB || 'Y' ||&&COMPNY1 || '.FOC';
-* -SET &&COMP11A = 'SY' ||&&COMPNY1 || '.FOC';
-SET &&COMP11B = 'AY' ||&&COMPNY1 || '.FOC';
-SET &&COMP11C = 'TY' ||&&COMPNY1 || '.FOC';
 
-SET &&COMP12A = &PAIRDB || 'Z' ||&&COMPNY1 || '.FOC';
-* -SET &&COMP12A = 'SZ' ||&&COMPNY1 || '.FOC';
-SET &&COMP12B = 'AZ' ||&&COMPNY1 || '.FOC';
-SET &&COMP12C = 'TZ' ||&&COMPNY1 || '.FOC';


-SET &FILE1A = '&&DATASRV.EVAL' || '\TNT\TTRACKER\DATA\' |  '&&COMP1A.EVAL AS ' | '&&EXTRACT.EVAL';
-SET &FILE1B = '&&DATASRV.EVAL' || '\TNT\TTRACKER\DATA\' |  '&&COMP1B.EVAL AS AIR_MAIN';
-SET &FILE1C = '&&DATASRV.EVAL' || '\TNT\TTRACKER\DATA\' |  '&&COMP1C.EVAL AS TKT_MAIN';

-SET &FILE2A = '&&DATASRV.EVAL' || '\TNT\TTRACKER\DATA\' |  '&&COMP2A.EVAL AS ' | '&&EXTRACT.EVAL';
-SET &FILE2B = '&&DATASRV.EVAL' || '\TNT\TTRACKER\DATA\' |  '&&COMP2B.EVAL AS AIR_MAIN';
-SET &FILE2C = '&&DATASRV.EVAL' || '\TNT\TTRACKER\DATA\' |  '&&COMP2C.EVAL AS TKT_MAIN';

-SET &FILE3A = '&&DATASRV.EVAL' || '\TNT\TTRACKER\DATA\' |  '&&COMP3A.EVAL AS ' | '&&EXTRACT.EVAL';
-SET &FILE3B = '&&DATASRV.EVAL' || '\TNT\TTRACKER\DATA\' |  '&&COMP3B.EVAL AS AIR_MAIN';
-SET &FILE3C = '&&DATASRV.EVAL' || '\TNT\TTRACKER\DATA\' |  '&&COMP3C.EVAL AS TKT_MAIN';

-SET &FILE4A = '&&DATASRV.EVAL' || '\TNT\TTRACKER\DATA\' |  '&&COMP4A.EVAL AS ' | '&&EXTRACT.EVAL';
-SET &FILE4B = '&&DATASRV.EVAL' || '\TNT\TTRACKER\DATA\' |  '&&COMP4B.EVAL AS AIR_MAIN';
-SET &FILE4C = '&&DATASRV.EVAL' || '\TNT\TTRACKER\DATA\' |  '&&COMP4C.EVAL AS TKT_MAIN';

-SET &FILE5A = '&&DATASRV.EVAL' || '\TNT\TTRACKER\DATA\' |  '&&COMP5A.EVAL AS ' | '&&EXTRACT.EVAL';
-SET &FILE5B = '&&DATASRV.EVAL' || '\TNT\TTRACKER\DATA\' |  '&&COMP5B.EVAL AS AIR_MAIN';
-SET &FILE5C = '&&DATASRV.EVAL' || '\TNT\TTRACKER\DATA\' |  '&&COMP5C.EVAL AS TKT_MAIN';

-SET &FILE6A = '&&DATASRV.EVAL' || '\TNT\TTRACKER\DATA\' |  '&&COMP6A.EVAL AS ' | '&&EXTRACT.EVAL';
-SET &FILE6B = '&&DATASRV.EVAL' || '\TNT\TTRACKER\DATA\' |  '&&COMP6B.EVAL AS AIR_MAIN';
-SET &FILE6C = '&&DATASRV.EVAL' || '\TNT\TTRACKER\DATA\' |  '&&COMP6C.EVAL AS TKT_MAIN';

-SET &FILE7A = '&&DATASRV.EVAL' || '\TNT\TTRACKER\DATA\' |  '&&COMP7A.EVAL AS ' | '&&EXTRACT.EVAL';
-SET &FILE7B = '&&DATASRV.EVAL' || '\TNT\TTRACKER\DATA\' |  '&&COMP7B.EVAL AS AIR_MAIN';
-SET &FILE7C = '&&DATASRV.EVAL' || '\TNT\TTRACKER\DATA\' |  '&&COMP7C.EVAL AS TKT_MAIN';

-SET &FILE8A = '&&DATASRV.EVAL' || '\TNT\TTRACKER\DATA\' |  '&&COMP8A.EVAL AS ' | '&&EXTRACT.EVAL';
-SET &FILE8B = '&&DATASRV.EVAL' || '\TNT\TTRACKER\DATA\' |  '&&COMP8B.EVAL AS AIR_MAIN';
-SET &FILE8C = '&&DATASRV.EVAL' || '\TNT\TTRACKER\DATA\' |  '&&COMP8C.EVAL AS TKT_MAIN';

-SET &FILE9A = '&&DATASRV.EVAL' || '\TNT\TTRACKER\DATA\' |  '&&COMP9A.EVAL AS ' | '&&EXTRACT.EVAL';
-SET &FILE9B = '&&DATASRV.EVAL' || '\TNT\TTRACKER\DATA\' |  '&&COMP9B.EVAL AS AIR_MAIN';
-SET &FILE9C = '&&DATASRV.EVAL' || '\TNT\TTRACKER\DATA\' |  '&&COMP9C.EVAL AS TKT_MAIN';

-SET &FILE0A = '&&DATASRV.EVAL' || '\TNT\TTRACKER\DATA\' |  '&&COMP10A.EVAL AS ' | '&&EXTRACT.EVAL';
-SET &FILE0B = '&&DATASRV.EVAL' || '\TNT\TTRACKER\DATA\' |  '&&COMP10B.EVAL AS AIR_MAIN';
-SET &FILE0C = '&&DATASRV.EVAL' || '\TNT\TTRACKER\DATA\' |  '&&COMP10C.EVAL AS TKT_MAIN';

-SET &FILEYA = '&&DATASRV.EVAL' || '\TNT\TTRACKER\DATA\' |  '&&COMP11A.EVAL AS ' | '&&EXTRACT.EVAL';
-SET &FILEYB = '&&DATASRV.EVAL' || '\TNT\TTRACKER\DATA\' |  '&&COMP11B.EVAL AS AIR_MAIN';
-SET &FILEYC = '&&DATASRV.EVAL' || '\TNT\TTRACKER\DATA\' |  '&&COMP11C.EVAL AS TKT_MAIN';

-SET &FILEZA = '&&DATASRV.EVAL' || '\TNT\TTRACKER\DATA\' |  '&&COMP12A.EVAL AS ' | '&&EXTRACT.EVAL';
-SET &FILEZB = '&&DATASRV.EVAL' || '\TNT\TTRACKER\DATA\' |  '&&COMP12B.EVAL AS AIR_MAIN';
-SET &FILEZC = '&&DATASRV.EVAL' || '\TNT\TTRACKER\DATA\' |  '&&COMP12C.EVAL AS TKT_MAIN';


 
USE ADD
&FILE1A
&FILE1B
&FILE1C

&FILE2A
&FILE2B
&FILE2C

&FILE3A
&FILE3B
&FILE3C

&FILE4A
&FILE4B
&FILE4C

&FILE5A
&FILE5B
&FILE5C

&FILE6A
&FILE6B
&FILE6C

&FILE7A
&FILE7B
&FILE7C

&FILE8A
&FILE8B
&FILE8C

&FILE9A
&FILE9B
&FILE9C

&FILE0A
&FILE0B
&FILE0C

&FILEYA
&FILEYB
&FILEYC

&FILEZA
&FILEZB
&FILEZC


&&USE_AH1 AS AH_50
END
-RUN
 
-GOTO ENDALLOC;
 
-NONQUART
-SET &&COMP1A = &PAIRDB || '_' ||&&COMPNY1 || '.FOC';
-* -SET &&COMP1A = 'S_' ||&&COMPNY1 || '.FOC';
-SET &&COMP1B = 'A_' ||&&COMPNY1 || '.FOC';
-SET &&COMP1C = 'T_' ||&&COMPNY1 || '.FOC';

-SET &FILE1A = '&&DATASRV.EVAL' || '\TNT\TTRACKER\DATA\' |  '&&COMP1A.EVAL AS ' | '&&EXTRACT.EVAL';
-SET &FILE1B = '&&DATASRV.EVAL' || '\TNT\TTRACKER\DATA\' |  '&&COMP1B.EVAL AS AIR_MAIN';
-SET &FILE1C = '&&DATASRV.EVAL' || '\TNT\TTRACKER\DATA\' |  '&&COMP1C.EVAL AS TKT_MAIN';

 
USE ADD

&FILE1A
&FILE1B
&FILE1C

&&USE_AH1 AS AH_50
 
END
-RUN
 
 
-ENDALLOC

